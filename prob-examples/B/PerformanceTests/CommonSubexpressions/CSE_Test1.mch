MACHINE CSE_Test1
DEFINITIONS
  myset == ({xx+2} \/ 1..xx)
VARIABLES xx
INVARIANT
 xx:INTEGER &
   card(1..xx \/ {xx+2}) = xx+1 & 
   (1..xx \/ {xx+2}) =  ({xx+2} \/ 1..xx) & 
   card(1..xx \/ {xx+2}) =  card(myset) 
INITIALISATION xx:=2
OPERATIONS
  Dble = xx := xx*2
END

/*

| ?- b_get_invariant_from_machine(M), find_common_subexpressions(M,0,false,R), tools_printing:trace_print(R,0,10), translate:print_bexpr(M),nl, translate:print_bexpr(R).
b/3(
+-conjunct/2(
+-+-b/3(
+-+-+-equal/2(
+-+-+-+-b/3(
+-+-+-+-+-card/1(
+-+-+-+-+-+-b/3(
+-+-+-+-+-+-+-union/2(
+-+-+-+-+-+-+-+-b/3(
+-+-+-+-+-+-+-+-+-interval/2(
+-+-+-+-+-+-+-+-+-+-b(integer(1),integer,[sharing(0,4,top,[]),nodeid(pos(27,1,7,9,7,9))])
+-+-+-+-+-+-+-+-+-+-b(identifier(xx),integer,[sharing(1,7,top,[]),nodeid(pos(28,1,7,12,7,13)),loc(local,CSE_Test1,abstract_variables)])
+-+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-+-set(integer)
+-+-+-+-+-+-+-+-+-[
+-+-+-+-+-+-+-+-+-+-sharing(2,3,top,[])
+-+-+-+-+-+-+-+-+-+-nodeid(pos(26,1,7,9,7,13))
+-+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-+-]
+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-b/3(
+-+-+-+-+-+-+-+-+-set_extension/1(
+-+-+-+-+-+-+-+-+-+-[b(add(b(identifier(xx),integer,[sharing(1,7,top,[]),nodeid(pos(31,1,7,19,7,20)),loc(local,CSE_Test1,abstract_variables)]),b(integer(2),integer,[sharing(3,3,top,[]),nodeid(pos(32,1,7,22,7,22))])),integer,[sharing(4,3,top,[]),nodeid(pos(30,1,7,19,7,22))])]
+-+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-+-set(integer)
+-+-+-+-+-+-+-+-+-[
+-+-+-+-+-+-+-+-+-+-sharing(5,3,top,[])
+-+-+-+-+-+-+-+-+-+-nodeid(pos(29,1,7,18,7,23))
+-+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-+-]
+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-set(integer)
+-+-+-+-+-+-+-[
+-+-+-+-+-+-+-+-sharing(6,3,top,[])
+-+-+-+-+-+-+-+-add_element_to_set
+-+-+-+-+-+-+-+-nodeid/1(
+-+-+-+-+-+-+-+-+-pos(25,1,7,9,7,23)
+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-]
+-+-+-+-+-+-)
+-+-+-+-+-)
+-+-+-+-+-integer
+-+-+-+-+-[
+-+-+-+-+-+-sharing(7,3,top,[])
+-+-+-+-+-+-contains_wd_condition
+-+-+-+-+-+-nodeid/1(
+-+-+-+-+-+-+-pos(24,1,7,4,7,24)
+-+-+-+-+-+-)
+-+-+-+-+-)
+-+-+-+-+-]
+-+-+-+-)
+-+-+-+-b/3(
+-+-+-+-+-add/2(
+-+-+-+-+-+-b/3(
+-+-+-+-+-+-+-identifier(xx)
+-+-+-+-+-+-+-integer
+-+-+-+-+-+-+-[
+-+-+-+-+-+-+-+-sharing(1,7,top,[])
+-+-+-+-+-+-+-+-nodeid/1(
+-+-+-+-+-+-+-+-+-pos(34,1,7,28,7,29)
+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-loc(local,CSE_Test1,abstract_variables)
+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-]
+-+-+-+-+-+-)
+-+-+-+-+-+-b/3(
+-+-+-+-+-+-+-integer(1)
+-+-+-+-+-+-+-integer
+-+-+-+-+-+-+-[
+-+-+-+-+-+-+-+-sharing(0,4,top,[])
+-+-+-+-+-+-+-+-nodeid/1(
+-+-+-+-+-+-+-+-+-pos(35,1,7,31,7,31)
+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-]
+-+-+-+-+-+-)
+-+-+-+-+-)
+-+-+-+-+-integer
+-+-+-+-+-[
+-+-+-+-+-+-sharing(8,1,top,[])
+-+-+-+-+-+-nodeid/1(
+-+-+-+-+-+-+-pos(33,1,7,28,7,31)
+-+-+-+-+-+-)
+-+-+-+-+-)
+-+-+-+-+-]
+-+-+-+-)
+-+-+-)
+-+-+-pred
+-+-+-[
+-+-+-+-sharing(9,1,top,[])
+-+-+-+-contains_wd_condition
+-+-+-+-section(invariant)
+-+-+-+-nodeid/1(
+-+-+-+-+-pos(23,1,7,4,7,31)
+-+-+-+-)
+-+-+-)
+-+-+-]
+-+-)
+-+-b/3(
+-+-+-equal/2(
+-+-+-+-b/3(
+-+-+-+-+-card/1(
+-+-+-+-+-+-b/3(
+-+-+-+-+-+-+-union/2(
+-+-+-+-+-+-+-+-b/3(
+-+-+-+-+-+-+-+-+-interval/2(
+-+-+-+-+-+-+-+-+-+-b(integer(1),integer,[sharing(0,4,top,[]),nodeid(pos(57,1,9,9,9,9))])
+-+-+-+-+-+-+-+-+-+-b(identifier(xx),integer,[sharing(1,7,top,[]),nodeid(pos(58,1,9,12,9,13)),loc(local,CSE_Test1,abstract_variables)])
+-+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-+-set(integer)
+-+-+-+-+-+-+-+-+-[
+-+-+-+-+-+-+-+-+-+-sharing(2,3,top,[])
+-+-+-+-+-+-+-+-+-+-nodeid(pos(56,1,9,9,9,13))
+-+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-+-]
+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-b/3(
+-+-+-+-+-+-+-+-+-set_extension/1(
+-+-+-+-+-+-+-+-+-+-[b(add(b(identifier(xx),integer,[sharing(1,7,top,[]),nodeid(pos(61,1,9,19,9,20)),loc(local,CSE_Test1,abstract_variables)]),b(integer(2),integer,[sharing(3,3,top,[]),nodeid(pos(62,1,9,22,9,22))])),integer,[sharing(4,3,top,[]),nodeid(pos(60,1,9,19,9,22))])]
+-+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-+-set(integer)
+-+-+-+-+-+-+-+-+-[
+-+-+-+-+-+-+-+-+-+-sharing(5,3,top,[])
+-+-+-+-+-+-+-+-+-+-nodeid(pos(59,1,9,18,9,23))
+-+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-+-]
+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-set(integer)
+-+-+-+-+-+-+-[
+-+-+-+-+-+-+-+-sharing(6,3,top,[])
+-+-+-+-+-+-+-+-add_element_to_set
+-+-+-+-+-+-+-+-nodeid/1(
+-+-+-+-+-+-+-+-+-pos(55,1,9,9,9,23)
+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-]
+-+-+-+-+-+-)
+-+-+-+-+-)
+-+-+-+-+-integer
+-+-+-+-+-[
+-+-+-+-+-+-sharing(7,3,top,[])
+-+-+-+-+-+-contains_wd_condition
+-+-+-+-+-+-nodeid/1(
+-+-+-+-+-+-+-pos(54,1,9,4,9,24)
+-+-+-+-+-+-)
+-+-+-+-+-)
+-+-+-+-+-]
+-+-+-+-)
+-+-+-+-b/3(
+-+-+-+-+-card/1(
+-+-+-+-+-+-b/3(
+-+-+-+-+-+-+-union/2(
+-+-+-+-+-+-+-+-b/3(
+-+-+-+-+-+-+-+-+-interval/2(
+-+-+-+-+-+-+-+-+-+-b(integer(1),integer,[sharing(0,4,top,[]),nodeid(pos(12,1,3,23,3,23))])
+-+-+-+-+-+-+-+-+-+-b(identifier(xx),integer,[sharing(1,7,top,[]),nodeid(pos(13,1,3,26,3,27)),loc(local,CSE_Test1,abstract_variables)])
+-+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-+-set(integer)
+-+-+-+-+-+-+-+-+-[
+-+-+-+-+-+-+-+-+-+-sharing(2,3,top,[])
+-+-+-+-+-+-+-+-+-+-nodeid(pos(11,1,3,23,3,27))
+-+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-+-]
+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-b/3(
+-+-+-+-+-+-+-+-+-set_extension/1(
+-+-+-+-+-+-+-+-+-+-[b(add(b(identifier(xx),integer,[sharing(1,7,top,[]),nodeid(pos(9,1,3,14,3,15)),loc(local,CSE_Test1,abstract_variables)]),b(integer(2),integer,[sharing(3,3,top,[]),nodeid(pos(10,1,3,17,3,17))])),integer,[sharing(4,3,top,[]),nodeid(pos(8,1,3,14,3,17))])]
+-+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-+-set(integer)
+-+-+-+-+-+-+-+-+-[
+-+-+-+-+-+-+-+-+-+-sharing(5,3,top,[])
+-+-+-+-+-+-+-+-+-+-nodeid(pos(7,1,3,13,3,18))
+-+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-+-+-]
+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-set(integer)
+-+-+-+-+-+-+-[
+-+-+-+-+-+-+-+-sharing(6,3,top,[])
+-+-+-+-+-+-+-+-add_element_to_set
+-+-+-+-+-+-+-+-nodeid/1(
+-+-+-+-+-+-+-+-+-pos(64,1,9,34,9,38)
+-+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-)
+-+-+-+-+-+-+-]
+-+-+-+-+-+-)
+-+-+-+-+-)
+-+-+-+-+-integer
+-+-+-+-+-[
+-+-+-+-+-+-sharing(7,3,top,[])
+-+-+-+-+-+-contains_wd_condition
+-+-+-+-+-+-nodeid/1(
+-+-+-+-+-+-+-pos(63,1,9,29,9,39)
+-+-+-+-+-+-)
+-+-+-+-+-)
+-+-+-+-+-]
+-+-+-+-)
+-+-+-)
+-+-+-pred
+-+-+-[
+-+-+-+-sharing(10,1,top,[])
+-+-+-+-contains_wd_condition
+-+-+-+-section(invariant)
+-+-+-+-nodeid/1(
+-+-+-+-+-pos(53,1,9,4,9,39)
+-+-+-+-)
+-+-+-)
+-+-+-]
+-+-)
+-)
+-pred
+-[
+-+-sharing(11,1,top,[])
+-+-contains_wd_condition
+-+-nodeid/1(
+-+-+-pos(17,1,6,2,9,39)
+-+-)
+-)
+-]
)
card(1 .. xx \/ {xx + 2}) = xx + 1 & card(1 .. xx \/ {xx + 2}) = card(1 .. xx \/ {xx + 2})
card(1 .. xx \/ {xx + 2}) = xx + 1 & card(1 .. xx \/ {xx + 2}) = card(1 .. xx \/ {xx + 2})

*/