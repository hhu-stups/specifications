package(load_event_b_project([event_b_model(none,'Account',[sees(none,['Account_CTX']),variables(none,[identifier(none,balance),identifier(none,state),identifier(none,transaction)]),invariant(none,[member(rodinpos(inv1,'+'),identifier(none,state),identifier(none,'STATES')),member(rodinpos(inv2,','),identifier(none,balance),integer_set(none)),member(rodinpos(inv3,'6'),identifier(none,transaction),bool_set(none))]),theorems(none,[]),events(none,[event(rodinpos('INITIALISATION','\''),'INITIALISATION',ordinary(none),[],[],[],[],[assign(rodinpos(act1,'\''),[identifier(none,balance)],[integer(none,0)]),assign(rodinpos(act2,'('),[identifier(none,state)],[identifier(none,empty)]),assign(rodinpos(act3,')'),[identifier(none,transaction)],[boolean_false(none)])],[]),event(rodinpos('Deposit','-'),'Deposit',ordinary(none),[],[identifier(rodinpos([],'\''),amount1),identifier(rodinpos([],','),amount2)],[greater(rodinpos(grd1,'-'),add(none,identifier(none,amount1),identifier(none,amount2)),integer(none,200)),conjunct(rodinpos(grd2,'('),member(none,identifier(none,amount1),natural_set(none)),member(none,identifier(none,amount2),natural_set(none)))],[],[assign(rodinpos(act1,'*'),[identifier(none,balance)],[add(none,identifier(none,balance),add(none,identifier(none,amount1),identifier(none,amount2)))]),assign(rodinpos(act2,'.'),[identifier(none,transaction)],[boolean_true(none)])],[]),event(rodinpos('WithDraw','.'),'WithDraw',ordinary(none),[],[identifier(rodinpos([],'\''),amount1),identifier(rodinpos([],'.'),amount2)],[conjunct(rodinpos(grd1,')'),greater(none,identifier(none,balance),integer(none,0)),conjunct(none,greater(none,minus(none,minus(none,identifier(none,balance),identifier(none,amount1)),identifier(none,amount2)),integer(none,-100)),less(none,add(none,identifier(none,amount1),identifier(none,amount2)),integer(none,1000)))),conjunct(rodinpos(grd2,'-'),member(none,identifier(none,amount1),natural_set(none)),member(none,identifier(none,amount2),natural_set(none)))],[],[assign(rodinpos(act1,'+'),[identifier(none,balance)],[minus(none,minus(none,identifier(none,balance),identifier(none,amount1)),identifier(none,amount2))]),assign(rodinpos(act2,'/'),[identifier(none,transaction)],[boolean_true(none)])],[]),event(rodinpos('ValidateRed','/'),'ValidateRed',ordinary(none),[],[],[conjunct(rodinpos(grd1,'\''),less(none,identifier(none,balance),integer(none,0)),greater(none,identifier(none,balance),integer(none,-100)))],[],[assign(rodinpos(act2,'*'),[identifier(none,state)],[identifier(none,red)])],[]),event(rodinpos('ValidateEmpty','0'),'ValidateEmpty',ordinary(none),[],[],[equal(rodinpos(grd1,'\''),identifier(none,balance),integer(none,0))],[],[assign(rodinpos(act1,'('),[identifier(none,state)],[identifier(none,empty)])],[]),event(rodinpos('ValidateSilver','1'),'ValidateSilver',ordinary(none),[],[],[conjunct(rodinpos(grd1,'\''),greater(none,identifier(none,balance),integer(none,0)),less(none,identifier(none,balance),integer(none,1000)))],[],[assign(rodinpos(act1,'('),[identifier(none,state)],[identifier(none,silver)])],[]),event(rodinpos('ValidateGold','2'),'ValidateGold',ordinary(none),[],[],[greater_equal(rodinpos(grd1,'\''),identifier(none,balance),integer(none,1000))],[],[assign(rodinpos(act1,'('),[identifier(none,state)],[identifier(none,gold)])],[]),event(rodinpos('PayInterest','3'),'PayInterest',ordinary(none),[],[identifier(rodinpos([],'\''),value)],[conjunct(rodinpos(grd1,'('),greater(none,identifier(none,balance),integer(none,1500)),conjunct(none,less_equal(none,identifier(none,value),integer(none,50)),greater(none,identifier(none,value),integer(none,0)))),member(rodinpos(grd2,')'),identifier(none,value),natural1_set(none))],[],[assign(rodinpos(act1,'*'),[identifier(none,balance)],[add(none,identifier(none,balance),identifier(none,value))])],[]),event(rodinpos('ChargeFee','4'),'ChargeFee',ordinary(none),[],[identifier(rodinpos([],'\''),fee)],[conjunct(rodinpos(grd1,'('),greater(none,identifier(none,fee),integer(none,0)),less(none,identifier(none,fee),integer(none,50))),member(rodinpos(grd2,'*'),identifier(none,fee),natural1_set(none)),equal(rodinpos(grd3,'+'),identifier(none,transaction),boolean_true(none))],[],[assign(rodinpos(act1,')'),[identifier(none,balance)],[minus(none,identifier(none,balance),identifier(none,fee))]),assign(rodinpos(act2,','),[identifier(none,transaction)],[boolean_false(none)])],[])])])],[event_b_context(none,'Account_CTX',[extends(none,[]),constants(none,[identifier(none,empty),identifier(none,gold),identifier(none,red),identifier(none,silver)]),axioms(none,[partition(rodinpos(axm1,'+'),identifier(none,'STATES'),[set_extension(none,[identifier(none,red)]),set_extension(none,[identifier(none,silver)]),set_extension(none,[identifier(none,gold)]),set_extension(none,[identifier(none,empty)])])]),theorems(none,[]),sets(none,[deferred_set(none,'STATES')])])],[],_Error)).

