package(load_event_b_project([event_b_model(none,'SampleThreeRecordMachine',[sees(none,['RecordThreeFields']),variables(none,[identifier(none,r1),identifier(none,r2)]),invariant(none,[conjunct(rodinpos(inv1,'_u5c4g8GSEd-m8crcPywm4A'),member(none,identifier(none,r1),identifier(none,'Rec3')),member(none,identifier(none,r2),identifier(none,'Rec3'))),not_equal(rodinpos(inv2,'_u5c4hMGSEd-m8crcPywm4A'),identifier(none,r1),identifier(none,r2))]),theorems(none,[]),events(none,[event(rodinpos('INITIALISATION','\''),'INITIALISATION',ordinary(none),[],[],[],[assign(rodinpos(init,'_u5dfkMGSEd-m8crcPywm4A'),[identifier(none,r1)],[function(none,identifier(none,make_Rec3),[couple(none,[couple(none,[boolean_true(none),identifier(none,'On')]),boolean_false(none)])])]),assign(rodinpos(init2,'_u5dfkcGSEd-m8crcPywm4A'),[identifier(none,r2)],[function(none,identifier(none,make_Rec3),[couple(none,[couple(none,[boolean_true(none),identifier(none,'On')]),boolean_true(none)])])])],[]),event(rodinpos(getfields,'_u5dfksGSEd-m8crcPywm4A'),getfields,ordinary(none),[],[identifier(rodinpos([],'_u5dfk8GSEd-m8crcPywm4A'),x),identifier(rodinpos([],'_u5eGoMGSEd-m8crcPywm4A'),y),identifier(rodinpos([],'_u5eGocGSEd-m8crcPywm4A'),z)],[conjunct(rodinpos(guard,'_u5eGosGSEd-m8crcPywm4A'),member(none,identifier(none,x),bool_set(none)),conjunct(none,member(none,identifier(none,y),identifier(none,'Mode')),member(none,identifier(none,z),bool_set(none)))),conjunct(rodinpos(guard2,'_u5eGo8GSEd-m8crcPywm4A'),equal(none,identifier(none,x),function(none,identifier(none,fld1),[identifier(none,r1)])),conjunct(none,equal(none,identifier(none,y),function(none,identifier(none,fld2),[identifier(none,r1)])),equal(none,identifier(none,z),function(none,identifier(none,fld3),[identifier(none,r1)]))))],[assign(rodinpos(act1,'_u5eGpMGSEd-m8crcPywm4A'),[identifier(none,r1)],[identifier(none,r1)])],[]),event(rodinpos(swap,'_u5eGpcGSEd-m8crcPywm4A'),swap,ordinary(none),[],[],[],[assign(rodinpos(act,'_u5etsMGSEd-m8crcPywm4A'),[identifier(none,r1),identifier(none,r2)],[identifier(none,r2),identifier(none,r1)])],[])])])],[event_b_context(none,'RecordThreeFields',[extends(none,[]),constants(none,[identifier(none,'Error'),identifier(none,'Off'),identifier(none,'On'),identifier(none,fld1),identifier(none,fld2),identifier(none,fld3),identifier(none,make_Rec3),identifier(none,update_Rec3_fld1),identifier(none,update_Rec3_fld2),identifier(none,update_Rec3_fld3)]),axioms(none,[member(rodinpos('Rec3.fld1.type2','\''),identifier(none,fld1),total_function(none,identifier(none,'Rec3'),bool_set(none))),member(rodinpos('Rec3.fld2.type2','('),identifier(none,fld2),total_function(none,identifier(none,'Rec3'),identifier(none,'Mode'))),member(rodinpos('Rec3.fld3.type2',')'),identifier(none,fld3),total_function(none,identifier(none,'Rec3'),bool_set(none))),member(rodinpos('Rec3.feasibility','\''),direct_product(none,direct_product(none,identifier(none,fld1),identifier(none,fld2)),identifier(none,fld3)),total_surjection(none,identifier(none,'Rec3'),cartesian_product(none,cartesian_product(none,bool_set(none),identifier(none,'Mode')),bool_set(none)))),member(rodinpos('Rec3.closure','\''),direct_product(none,direct_product(none,identifier(none,fld1),identifier(none,fld2)),identifier(none,fld3)),total_injection(none,identifier(none,'Rec3'),cartesian_product(none,cartesian_product(none,bool_set(none),identifier(none,'Mode')),bool_set(none)))),member(rodinpos('Rec3.make.axm1','\''),identifier(none,make_Rec3),total_bijection(none,cartesian_product(none,cartesian_product(none,bool_set(none),identifier(none,'Mode')),bool_set(none)),identifier(none,'Rec3'))),forall(rodinpos('Rec3.fld1.make.axm2','\''),[identifier(none,fld11),identifier(none,fld21),identifier(none,fld31)],implication(none,truth(none),equal(none,function(none,identifier(none,fld1),[function(none,identifier(none,make_Rec3),[couple(none,[couple(none,[identifier(none,fld11),identifier(none,fld21)]),identifier(none,fld31)])])]),identifier(none,fld11)))),forall(rodinpos('Rec3.fld2.make.axm2','('),[identifier(none,fld11),identifier(none,fld21),identifier(none,fld31)],implication(none,truth(none),equal(none,function(none,identifier(none,fld2),[function(none,identifier(none,make_Rec3),[couple(none,[couple(none,[identifier(none,fld11),identifier(none,fld21)]),identifier(none,fld31)])])]),identifier(none,fld21)))),forall(rodinpos('Rec3.fld3.make.axm2',')'),[identifier(none,fld11),identifier(none,fld21),identifier(none,fld31)],implication(none,truth(none),equal(none,function(none,identifier(none,fld3),[function(none,identifier(none,make_Rec3),[couple(none,[couple(none,[identifier(none,fld11),identifier(none,fld21)]),identifier(none,fld31)])])]),identifier(none,fld31)))),member(rodinpos('Rec3.fld1.update.axm1','\''),identifier(none,update_Rec3_fld1),total_function(none,cartesian_product(none,identifier(none,'Rec3'),bool_set(none)),identifier(none,'Rec3'))),member(rodinpos('Rec3.fld2.update.axm1','('),identifier(none,update_Rec3_fld2),total_function(none,cartesian_product(none,identifier(none,'Rec3'),identifier(none,'Mode')),identifier(none,'Rec3'))),member(rodinpos('Rec3.fld3.update.axm1',')'),identifier(none,update_Rec3_fld3),total_function(none,cartesian_product(none,identifier(none,'Rec3'),bool_set(none)),identifier(none,'Rec3'))),forall(rodinpos('Rec3.fld1.update.axm2','\''),[identifier(none,rec31),identifier(none,fld11)],implication(none,truth(none),equal(none,function(none,identifier(none,update_Rec3_fld1),[couple(none,[identifier(none,rec31),identifier(none,fld11)])]),function(none,identifier(none,make_Rec3),[couple(none,[couple(none,[identifier(none,fld11),function(none,identifier(none,fld2),[identifier(none,rec31)])]),function(none,identifier(none,fld3),[identifier(none,rec31)])])])))),forall(rodinpos('Rec3.fld2.update.axm2','('),[identifier(none,rec31),identifier(none,fld21)],implication(none,truth(none),equal(none,function(none,identifier(none,update_Rec3_fld2),[couple(none,[identifier(none,rec31),identifier(none,fld21)])]),function(none,identifier(none,make_Rec3),[couple(none,[couple(none,[function(none,identifier(none,fld1),[identifier(none,rec31)]),identifier(none,fld21)]),function(none,identifier(none,fld3),[identifier(none,rec31)])])])))),forall(rodinpos('Rec3.fld3.update.axm2',')'),[identifier(none,rec31),identifier(none,fld31)],implication(none,truth(none),equal(none,function(none,identifier(none,update_Rec3_fld3),[couple(none,[identifier(none,rec31),identifier(none,fld31)])]),function(none,identifier(none,make_Rec3),[couple(none,[couple(none,[function(none,identifier(none,fld1),[identifier(none,rec31)]),function(none,identifier(none,fld2),[identifier(none,rec31)])]),identifier(none,fld31)])])))),partition(rodinpos(axm1,','),identifier(none,'Mode'),[set_extension(none,[identifier(none,'On')]),set_extension(none,[identifier(none,'Off')]),set_extension(none,[identifier(none,'Error')])])]),theorems(none,[]),sets(none,[deferred_set(none,'Mode'),deferred_set(none,'Rec3')])])],[discharged('SampleThreeRecordMachine','INITIALISATION',inv1),discharged('SampleThreeRecordMachine','INITIALISATION',inv2),discharged('SampleThreeRecordMachine',getfields,inv1),discharged('SampleThreeRecordMachine',getfields,inv2),discharged('SampleThreeRecordMachine',swap,inv1),discharged('SampleThreeRecordMachine',swap,inv2),wp('INITIALISATION',getfields,[conjunct(none,member(none,identifier(none,x),bool_set(none)),conjunct(none,member(none,identifier(none,y),identifier(none,'Mode')),member(none,identifier(none,z),bool_set(none)))),conjunct(none,equal(none,identifier(none,x),function(none,identifier(none,fld1),[function(none,identifier(none,make_Rec3),[couple(none,[couple(none,[boolean_true(none),identifier(none,'On')]),boolean_false(none)])])])),conjunct(none,equal(none,identifier(none,y),function(none,identifier(none,fld2),[function(none,identifier(none,make_Rec3),[couple(none,[couple(none,[boolean_true(none),identifier(none,'On')]),boolean_false(none)])])])),equal(none,identifier(none,z),function(none,identifier(none,fld3),[function(none,identifier(none,make_Rec3),[couple(none,[couple(none,[boolean_true(none),identifier(none,'On')]),boolean_false(none)])])]))))]),wp(getfields,getfields,[conjunct(none,member(none,identifier(none,x),bool_set(none)),conjunct(none,member(none,identifier(none,y),identifier(none,'Mode')),member(none,identifier(none,z),bool_set(none)))),conjunct(none,equal(none,identifier(none,x),function(none,identifier(none,fld1),[identifier(none,r1)])),conjunct(none,equal(none,identifier(none,y),function(none,identifier(none,fld2),[identifier(none,r1)])),equal(none,identifier(none,z),function(none,identifier(none,fld3),[identifier(none,r1)]))))]),wp(swap,getfields,[conjunct(none,member(none,identifier(none,x),bool_set(none)),conjunct(none,member(none,identifier(none,y),identifier(none,'Mode')),member(none,identifier(none,z),bool_set(none)))),conjunct(none,equal(none,identifier(none,x),function(none,identifier(none,fld1),[identifier(none,r2)])),conjunct(none,equal(none,identifier(none,y),function(none,identifier(none,fld2),[identifier(none,r2)])),equal(none,identifier(none,z),function(none,identifier(none,fld3),[identifier(none,r2)]))))]),nonchanging_guard('INITIALISATION',[]),nonchanging_guard(getfields,[conjunct(none,member(none,identifier(none,x),bool_set(none)),conjunct(none,member(none,identifier(none,y),identifier(none,'Mode')),member(none,identifier(none,z),bool_set(none))))]),nonchanging_guard(swap,[])],Error)).
