package(load_event_b_project([event_b_model(none,b_4,[sees(none,[brp_c0,brp_c1]),refines(none,b_3),variables(none,[identifier(none,d),identifier(none,g),identifier(none,r),identifier(none,r_st),identifier(none,s),identifier(none,s_st),identifier(none,w)]),invariant(none,[member(rodinpos(inv1,internal_element1I),identifier(none,r_st),identifier(none,'STATUS')),member(rodinpos(inv2,internal_element2I),identifier(none,s_st),identifier(none,'STATUS')),implication(rodinpos(inv1,internal_refinesMachine2),equal(none,identifier(none,s_st),identifier(none,success)),equal(none,identifier(none,r_st),identifier(none,success))),member(rodinpos(inv4_1,inv1I),identifier(none,s),interval(none,integer(none,0),minus(none,identifier(none,n),integer(none,1)))),member(rodinpos(inv4_2,inv2I),identifier(none,r),interval(none,identifier(none,s),add(none,identifier(none,s),integer(none,1)))),implication(rodinpos(inv4_3,inv3I),equal(none,identifier(none,w),boolean_false(none)),equal(none,identifier(none,d),function(none,identifier(none,f),[add(none,identifier(none,s),integer(none,1))])))]),theorems(none,[]),events(none,[event(rodinpos('INITIALISATION',internal_evt1),'INITIALISATION',ordinary(none),['INITIALISATION'],[],[],[],[assign(rodinpos(act1,internal_element1),[identifier(none,r_st)],[identifier(none,working)]),assign(rodinpos(act2,internal_element2),[identifier(none,s_st)],[identifier(none,working)]),assign(rodinpos(act3,internal_element3),[identifier(none,r)],[integer(none,0)]),assign(rodinpos(act4,internal_element4),[identifier(none,g)],[empty_set(none)]),assign(rodinpos(act5,internal_act1),[identifier(none,w)],[boolean_true(none)]),assign(rodinpos(act6,internal_act2),[identifier(none,s)],[integer(none,0)]),assign(rodinpos(act7,internal_act3),[identifier(none,d)],[function(none,identifier(none,f),[integer(none,1)])])],[]),event(rodinpos(brp,internal_element1),brp,ordinary(none),[brp],[],[not_equal(rodinpos(grd1,internal_element1),identifier(none,r_st),identifier(none,working)),not_equal(rodinpos(grd2,internal_element2),identifier(none,s_st),identifier(none,working))],[],[],[]),event(rodinpos('RCV_current_data',internal_element2),'RCV_current_data',ordinary(none),['RCV_current_data'],[],[equal(rodinpos(grd1,internal_element1),identifier(none,r_st),identifier(none,working)),less(rodinpos(grd2,internal_element2),add(none,identifier(none,r),integer(none,1)),identifier(none,n)),equal(rodinpos(grd3,internal_grd1),identifier(none,r),identifier(none,s)),equal(rodinpos(grd4,internal_grd2),identifier(none,w),boolean_false(none))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,r)],[add(none,identifier(none,r),integer(none,1))]),assign(rodinpos(act2,internal_element2),[identifier(none,g)],[union(none,identifier(none,g),set_extension(none,[couple(none,[add(none,identifier(none,r),integer(none,1)),identifier(none,d)])]))])],[]),event(rodinpos('RCV_success',internal_element3),'RCV_success',ordinary(none),['RCV_success'],[],[equal(rodinpos(grd1,internal_element1),identifier(none,r_st),identifier(none,working)),equal(rodinpos(grd2,internal_element2),add(none,identifier(none,r),integer(none,1)),identifier(none,n)),equal(rodinpos(grd3,internal_grd1),identifier(none,r),identifier(none,s)),equal(rodinpos(grd4,internal_grd2),identifier(none,w),boolean_false(none))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,r_st)],[identifier(none,success)]),assign(rodinpos(act2,internal_element2),[identifier(none,r)],[add(none,identifier(none,r),integer(none,1))]),assign(rodinpos(act3,internal_element3),[identifier(none,g)],[union(none,identifier(none,g),set_extension(none,[couple(none,[identifier(none,n),identifier(none,d)])]))])],[]),event(rodinpos('RCV_failure',internal_element4),'RCV_failure',ordinary(none),['RCV_failure'],[],[equal(rodinpos(grd1,internal_element1),identifier(none,r_st),identifier(none,working)),equal(rodinpos(grd2,internal_element2),identifier(none,s_st),identifier(none,failure))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,r_st)],[identifier(none,failure)])],[]),event(rodinpos('SND_success',internal_element5),'SND_success',ordinary(none),['SND_success'],[],[equal(rodinpos(grd1,internal_element1),identifier(none,s_st),identifier(none,working)),equal(rodinpos(grd2,internal_element2),identifier(none,w),boolean_false(none)),equal(rodinpos(grd3,internal_grd1),add(none,identifier(none,s),integer(none,1)),identifier(none,n)),equal(rodinpos(grd4,internal_grd2),identifier(none,r),add(none,identifier(none,s),integer(none,1)))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,s_st)],[identifier(none,success)])],[]),event(rodinpos('SND_failure',internal_element6),'SND_failure',ordinary(none),['SND_failure'],[],[equal(rodinpos(grd1,internal_element1),identifier(none,s_st),identifier(none,working))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,s_st)],[identifier(none,failure)])],[]),event(rodinpos('SND_snd_data',internal_evt2),'SND_snd_data',ordinary(none),[],[],[equal(rodinpos(grd1,internal_grd1),identifier(none,s_st),identifier(none,working)),equal(rodinpos(grd2,internal_grd2),identifier(none,w),boolean_true(none))],[],[assign(rodinpos(act1,internal_act1),[identifier(none,d)],[function(none,identifier(none,f),[add(none,identifier(none,s),integer(none,1))])]),assign(rodinpos(act2,internal_act2),[identifier(none,w)],[boolean_false(none)])],[]),event(rodinpos('SND_time_out_current',internal_evt3),'SND_time_out_current',ordinary(none),[],[],[equal(rodinpos(grd1,internal_grd1),identifier(none,s_st),identifier(none,working)),equal(rodinpos(grd2,internal_grd2),identifier(none,w),boolean_false(none))],[],[assign(rodinpos(act1,internal_act1),[identifier(none,w)],[boolean_true(none)])],[]),event(rodinpos('SND_rcv_current_ack',internal_evt4),'SND_rcv_current_ack',ordinary(none),[],[],[equal(rodinpos(grd1,internal_grd1),identifier(none,s_st),identifier(none,working)),equal(rodinpos(grd2,internal_grd2),identifier(none,w),boolean_false(none)),less(rodinpos(grd3,internal_grd3),add(none,identifier(none,s),integer(none,1)),identifier(none,n)),equal(rodinpos(grd4,internal_grd4),identifier(none,r),add(none,identifier(none,s),integer(none,1)))],[],[assign(rodinpos(act1,internal_act1),[identifier(none,w)],[boolean_true(none)]),assign(rodinpos(act2,internal_act2),[identifier(none,s)],[add(none,identifier(none,s),integer(none,1))])],[])])]),event_b_model(none,b_3,[sees(none,[brp_c0,brp_c1]),refines(none,b_2),variables(none,[identifier(none,g),identifier(none,r),identifier(none,r_st),identifier(none,s_st)]),invariant(none,[member(rodinpos(inv1,internal_element1I),identifier(none,r_st),identifier(none,'STATUS')),member(rodinpos(inv2,internal_element2I),identifier(none,s_st),identifier(none,'STATUS')),member(rodinpos(inv1,internal_element1I),identifier(none,r),interval(none,integer(none,0),identifier(none,n))),equal(rodinpos(inv2,internal_element2I),identifier(none,g),domain_restriction(none,interval(none,integer(none,1),identifier(none,r)),identifier(none,f))),equivalence(rodinpos(inv3,internal_element3I),equal(none,identifier(none,r_st),identifier(none,success)),equal(none,identifier(none,r),identifier(none,n)))]),theorems(none,[]),variant(none,minus(none,identifier(none,n),identifier(none,r))),events(none,[event(rodinpos('INITIALISATION',internal_evt1),'INITIALISATION',ordinary(none),['INITIALISATION'],[],[],[],[assign(rodinpos(act1,internal_element1),[identifier(none,r_st)],[identifier(none,working)]),assign(rodinpos(act2,internal_element2),[identifier(none,s_st)],[identifier(none,working)]),assign(rodinpos(act3,internal_element3),[identifier(none,r)],[integer(none,0)]),assign(rodinpos(act4,internal_element4),[identifier(none,g)],[empty_set(none)])],[]),event(rodinpos(brp,internal_element1),brp,ordinary(none),[brp],[],[not_equal(rodinpos(grd1,internal_element1),identifier(none,r_st),identifier(none,working)),not_equal(rodinpos(grd2,internal_element2),identifier(none,s_st),identifier(none,working))],[],[],[]),event(rodinpos('RCV_current_data',internal_element2),'RCV_current_data',convergent(none),[],[],[equal(rodinpos(grd1,internal_element1),identifier(none,r_st),identifier(none,working)),less(rodinpos(grd2,internal_element2),add(none,identifier(none,r),integer(none,1)),identifier(none,n))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,r)],[add(none,identifier(none,r),integer(none,1))]),assign(rodinpos(act2,internal_element2),[identifier(none,g)],[union(none,identifier(none,g),set_extension(none,[couple(none,[add(none,identifier(none,r),integer(none,1)),function(none,identifier(none,f),[add(none,identifier(none,r),integer(none,1))])])]))])],[]),event(rodinpos('RCV_success',internal_element3),'RCV_success',ordinary(none),['RCV_success'],[],[equal(rodinpos(grd1,internal_element1),identifier(none,r_st),identifier(none,working)),equal(rodinpos(grd2,internal_element2),add(none,identifier(none,r),integer(none,1)),identifier(none,n))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,r_st)],[identifier(none,success)]),assign(rodinpos(act2,internal_element2),[identifier(none,r)],[add(none,identifier(none,r),integer(none,1))]),assign(rodinpos(act3,internal_element3),[identifier(none,g)],[union(none,identifier(none,g),set_extension(none,[couple(none,[identifier(none,n),function(none,identifier(none,f),[identifier(none,n)])])]))])],[]),event(rodinpos('RCV_failure',internal_element4),'RCV_failure',ordinary(none),['RCV_failure'],[],[equal(rodinpos(grd1,internal_element1),identifier(none,r_st),identifier(none,working)),equal(rodinpos(grd2,internal_element2),identifier(none,s_st),identifier(none,failure))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,r_st)],[identifier(none,failure)])],[]),event(rodinpos('SND_success',internal_element5),'SND_success',ordinary(none),['SND_success'],[],[equal(rodinpos(grd1,internal_element1),identifier(none,s_st),identifier(none,working)),equal(rodinpos(grd2,internal_element2),identifier(none,r_st),identifier(none,success))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,s_st)],[identifier(none,success)])],[]),event(rodinpos('SND_failure',internal_element6),'SND_failure',ordinary(none),['SND_failure'],[],[equal(rodinpos(grd1,internal_element1),identifier(none,s_st),identifier(none,working))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,s_st)],[identifier(none,failure)])],[])])]),event_b_model(none,b_2,[sees(none,[brp_c0]),refines(none,b_1),variables(none,[identifier(none,r_st),identifier(none,s_st)]),invariant(none,[member(rodinpos(inv1,internal_element1I),identifier(none,r_st),identifier(none,'STATUS')),member(rodinpos(inv2,internal_element2I),identifier(none,s_st),identifier(none,'STATUS')),implication(rodinpos(inv1,internal_refinesMachine2),equal(none,identifier(none,s_st),identifier(none,success)),equal(none,identifier(none,r_st),identifier(none,success)))]),theorems(none,[]),variant(none,set_extension(none,[identifier(none,success),identifier(none,failure),identifier(none,r_st)])),events(none,[event(rodinpos('INITIALISATION',internal_evt1),'INITIALISATION',ordinary(none),['INITIALISATION'],[],[],[],[assign(rodinpos(act1,internal_element1),[identifier(none,r_st)],[identifier(none,working)]),assign(rodinpos(act2,internal_element2),[identifier(none,s_st)],[identifier(none,working)])],[]),event(rodinpos(brp,internal_element1),brp,ordinary(none),[brp],[],[not_equal(rodinpos(grd1,internal_element1),identifier(none,r_st),identifier(none,working)),not_equal(rodinpos(grd2,internal_element2),identifier(none,s_st),identifier(none,working))],[],[],[]),event(rodinpos('RCV_success',internal_element3),'RCV_success',convergent(none),['RCV_progress'],[],[equal(rodinpos(grd1,internal_grd1),identifier(none,r_st),identifier(none,working))],[],[assign(rodinpos(act1,internal_act1),[identifier(none,r_st)],[identifier(none,success)])],[]),event(rodinpos('RCV_failure',internal_element4),'RCV_failure',convergent(none),['RCV_progress'],[],[equal(rodinpos(grd1,internal_grd1),identifier(none,r_st),identifier(none,working)),equal(rodinpos(grd2,internal_grd2),identifier(none,s_st),identifier(none,failure))],[],[assign(rodinpos(act1,internal_act1),[identifier(none,r_st)],[identifier(none,failure)])],[]),event(rodinpos('SND_success',internal_element5),'SND_success',ordinary(none),['SND_success'],[],[equal(rodinpos(grd1,internal_element1),identifier(none,s_st),identifier(none,working)),equal(rodinpos(grd2,internal_element2),identifier(none,r_st),identifier(none,success))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,s_st)],[identifier(none,success)])],[]),event(rodinpos('SND_failure',internal_element6),'SND_failure',ordinary(none),['SND_failure'],[],[equal(rodinpos(grd1,internal_element1),identifier(none,s_st),identifier(none,working))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,s_st)],[identifier(none,failure)])],[])])]),event_b_model(none,b_1,[sees(none,[brp_c0]),refines(none,b_0),variables(none,[identifier(none,r_st),identifier(none,s_st)]),invariant(none,[]),theorems(none,[]),variant(none,set_extension(none,[identifier(none,success),identifier(none,failure),identifier(none,s_st)])),events(none,[event(rodinpos('INITIALISATION',internal_evt1),'INITIALISATION',ordinary(none),['INITIALISATION'],[],[],[],[assign(rodinpos(act1,internal_element1),[identifier(none,r_st)],[identifier(none,working)]),assign(rodinpos(act2,internal_element2),[identifier(none,s_st)],[identifier(none,working)])],[]),event(rodinpos(brp,internal_element1),brp,ordinary(none),[brp],[],[not_equal(rodinpos(grd1,internal_element1),identifier(none,r_st),identifier(none,working)),not_equal(rodinpos(grd2,internal_element2),identifier(none,s_st),identifier(none,working))],[],[],[]),event(rodinpos('RCV_progress',internal_element3),'RCV_progress',anticipated(none),['RCV_progress'],[],[],[],[becomes_element_of(rodinpos(act1,internal_element1),[identifier(none,r_st)],set_extension(none,[identifier(none,success),identifier(none,failure)]))],[]),event(rodinpos('SND_success',internal_element5),'SND_success',convergent(none),['SND_progress'],[],[equal(rodinpos(grd1,internal_element1),identifier(none,s_st),identifier(none,working)),equal(rodinpos(grd2,internal_element2),identifier(none,r_st),identifier(none,success))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,s_st)],[identifier(none,success)])],[]),event(rodinpos('SND_failure',internal_element6),'SND_failure',convergent(none),['SND_progress'],[],[equal(rodinpos(grd1,internal_element1),identifier(none,s_st),identifier(none,working))],[],[assign(rodinpos(act1,internal_element1),[identifier(none,s_st)],[identifier(none,failure)])],[])])]),event_b_model(none,b_0,[sees(none,[brp_c0]),variables(none,[identifier(none,r_st),identifier(none,s_st)]),invariant(none,[member(rodinpos(inv1,internal_element1I),identifier(none,r_st),identifier(none,'STATUS')),member(rodinpos(inv2,internal_element2I),identifier(none,s_st),identifier(none,'STATUS'))]),theorems(none,[]),events(none,[event(rodinpos('INITIALISATION',internal_evt1),'INITIALISATION',ordinary(none),[],[],[],[],[assign(rodinpos(act1,internal_element1),[identifier(none,r_st)],[identifier(none,working)]),assign(rodinpos(act2,internal_element2),[identifier(none,s_st)],[identifier(none,working)])],[]),event(rodinpos(brp,internal_element1),brp,ordinary(none),[],[],[not_equal(rodinpos(grd1,internal_element1),identifier(none,r_st),identifier(none,working)),not_equal(rodinpos(grd2,internal_element2),identifier(none,s_st),identifier(none,working))],[],[],[]),event(rodinpos('RCV_progress',internal_element2),'RCV_progress',anticipated(none),[],[],[],[],[becomes_element_of(rodinpos(act1,internal_element1),[identifier(none,r_st)],set_extension(none,[identifier(none,success),identifier(none,failure)]))],[]),event(rodinpos('SND_progress',internal_evt2),'SND_progress',anticipated(none),[],[],[],[],[becomes_element_of(rodinpos(act1,internal_act1),[identifier(none,s_st)],set_extension(none,[identifier(none,success),identifier(none,failure)]))],[])])])],[event_b_context(none,brp_c0,[extends(none,[]),constants(none,[identifier(none,failure),identifier(none,success),identifier(none,working)]),axioms(none,[equal(rodinpos(axm1,internal_element1A),identifier(none,'STATUS'),set_extension(none,[identifier(none,working),identifier(none,success),identifier(none,failure)])),not_equal(rodinpos(axm2,internal_element2A),identifier(none,working),identifier(none,success)),not_equal(rodinpos(axm3,internal_element3A),identifier(none,working),identifier(none,failure)),not_equal(rodinpos(axm4,internal_element4A),identifier(none,success),identifier(none,failure))]),theorems(none,[]),sets(none,[deferred_set(none,'STATUS')])]),event_b_context(none,brp_c1,[extends(none,[brp_c0]),constants(none,[identifier(none,f),identifier(none,n)]),axioms(none,[less(rodinpos(axm1,internal_element1A),integer(none,0),identifier(none,n)),member(rodinpos(axm2,internal_element2A),identifier(none,f),total_function(none,interval(none,integer(none,1),identifier(none,n)),identifier(none,'D')))]),theorems(none,[]),sets(none,[deferred_set(none,'D')])])],[discharged(b_3,'RCV_failure',inv3),discharged(b_2,'INITIALISATION',inv1),discharged(b_2,'RCV_success',inv1),discharged(b_2,'RCV_failure',inv1),discharged(b_2,'SND_success',inv1),discharged(b_2,'SND_failure',inv1)],_Error)).

