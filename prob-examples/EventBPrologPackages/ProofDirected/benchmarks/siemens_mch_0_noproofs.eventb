package(load_event_b_project([event_b_model(none,mch_0,[sees(none,[ctx_0]),variables(none,[identifier(none,'SELECTION'),identifier(none,'TRAIN_CBTC'),identifier(none,brake),identifier(none,cont_mode),identifier(none,ctr_mode),identifier(none,cycle_length),identifier(none,decision),identifier(none,last_cont_time),identifier(none,nb_var),identifier(none,new_sel_mode),identifier(none,new_trn_cbtc),identifier(none,old_sel_mode),identifier(none,old_trn_cbtc),identifier(none,op_mode),identifier(none,time)]),invariant(none,[member(rodinpos(inv1,internal_element2),identifier(none,new_sel_mode),identifier(none,'MODE')),member(rodinpos(inv2,internal_element4),identifier(none,new_trn_cbtc),bool_set(none)),implication(rodinpos(inv3,internal_element8),conjunct(none,equal(none,identifier(none,decision),boolean_false(none)),equal(none,identifier(none,old_sel_mode),identifier(none,bypass))),equal(none,identifier(none,brake),boolean_true(none))),implication(rodinpos(inv4,internal_element10),conjunct(none,equal(none,identifier(none,decision),boolean_false(none)),conjunct(none,equal(none,identifier(none,old_sel_mode),identifier(none,atpf)),equal(none,identifier(none,old_trn_cbtc),boolean_false(none)))),not_equal(none,identifier(none,ctr_mode),identifier(none,old_sel_mode))),implication(rodinpos(inv5,internal_element9),conjunct(none,equal(none,identifier(none,decision),boolean_false(none)),not_equal(none,identifier(none,ctr_mode),identifier(none,old_sel_mode))),equal(none,identifier(none,brake),boolean_true(none))),member(rodinpos(inv6,internal_element1),identifier(none,'SELECTION'),identifier(none,'MODE')),member(rodinpos(inv7,internal_element3),identifier(none,'TRAIN_CBTC'),bool_set(none)),implication(rodinpos(inv8,internal_element5),conjunct(none,equal(none,identifier(none,decision),boolean_false(none)),equal(none,identifier(none,old_sel_mode),identifier(none,bypass))),equal(none,identifier(none,ctr_mode),identifier(none,bypass))),member(rodinpos(inv9,internal_inv5),identifier(none,cont_mode),partial_function(none,natural_set(none),identifier(none,'MODE'))),member(rodinpos(inv10,internal_inv4),identifier(none,op_mode),partial_function(none,natural_set(none),identifier(none,'MODE'))),implication(rodinpos(inv11,internal_element6),conjunct(none,equal(none,identifier(none,decision),boolean_false(none)),conjunct(none,equal(none,identifier(none,old_sel_mode),identifier(none,atpf)),conjunct(none,equal(none,identifier(none,old_trn_cbtc),boolean_true(none)),less(none,identifier(none,time),add(none,identifier(none,last_cont_time),identifier(none,cycle_length)))))),equal(none,identifier(none,brake),boolean_false(none))),implication(rodinpos(inv12,internal_element7),conjunct(none,equal(none,identifier(none,decision),boolean_false(none)),conjunct(none,equal(none,identifier(none,old_sel_mode),identifier(none,atpr)),less(none,identifier(none,time),add(none,identifier(none,last_cont_time),identifier(none,cycle_length))))),equal(none,identifier(none,brake),boolean_false(none))),implication(rodinpos(inv13,internal_element11),conjunct(none,equal(none,identifier(none,decision),boolean_false(none)),conjunct(none,equal(none,identifier(none,old_sel_mode),identifier(none,atpf)),equal(none,identifier(none,old_trn_cbtc),boolean_true(none)))),equal(none,identifier(none,ctr_mode),identifier(none,atpf))),implication(rodinpos(inv14,internal_element12),conjunct(none,equal(none,identifier(none,decision),boolean_false(none)),equal(none,identifier(none,old_sel_mode),identifier(none,atpr))),equal(none,identifier(none,ctr_mode),identifier(none,atpr))),member(rodinpos(inv15,internal_inv1),identifier(none,time),natural_set(none)),member(rodinpos(inv16,internal_inv2),identifier(none,cycle_length),natural1_set(none)),disjunct(rodinpos(inv17,internal_element16),equal(none,identifier(none,brake),boolean_true(none)),less_equal(none,minus(none,identifier(none,time),card(none,intersection(none,identifier(none,cont_mode),identifier(none,op_mode)))),multiplication(none,identifier(none,nb_var),identifier(none,cycle_length)))),disjunct(rodinpos(inv18,internal_element17),equal(none,identifier(none,brake),boolean_true(none)),less_equal(none,identifier(none,time),add(none,identifier(none,last_cont_time),identifier(none,cycle_length)))),subset(rodinpos(inv19,internal_element14),domain(none,identifier(none,cont_mode)),interval(none,integer(none,0),minus(none,add(none,identifier(none,last_cont_time),identifier(none,cycle_length)),integer(none,1)))),member(rodinpos(inv20,internal_element19),integer(none,0),domain(none,identifier(none,cont_mode))),member(rodinpos(inv21,internal_element20),integer(none,0),domain(none,identifier(none,op_mode))),subset(rodinpos(inv22,internal_element13),domain(none,identifier(none,op_mode)),interval(none,integer(none,0),identifier(none,time))),subset(rodinpos(inv23,internal_element24),interval(none,integer(none,0),minus(none,identifier(none,time),integer(none,1))),domain(none,identifier(none,op_mode))),implication(rodinpos(inv24,internal_element15),equal(none,identifier(none,time),integer(none,0)),equal(none,identifier(none,nb_var),integer(none,0))),implication(rodinpos(inv25,internal_element26),conjunct(none,not_member(none,identifier(none,time),domain(none,identifier(none,op_mode))),greater(none,identifier(none,time),integer(none,0))),equal(none,function(none,identifier(none,op_mode),[minus(none,identifier(none,time),integer(none,1))]),identifier(none,'SELECTION'))),implication(rodinpos(inv26,internal_element27),member(none,identifier(none,time),domain(none,identifier(none,op_mode))),equal(none,function(none,identifier(none,op_mode),[identifier(none,time)]),identifier(none,'SELECTION'))),member(rodinpos(inv27,internal_inv6),identifier(none,last_cont_time),natural_set(none)),equal(rodinpos(inv28,internal_element29),modulo(none,identifier(none,last_cont_time),identifier(none,cycle_length)),integer(none,0)),disjunct(rodinpos(inv29,internal_element18),equal(none,identifier(none,brake),boolean_true(none)),conjunct(none,implication(none,not_equal(none,modulo(none,identifier(none,time),identifier(none,cycle_length)),integer(none,0)),less_equal(none,identifier(none,time),minus(none,add(none,identifier(none,last_cont_time),identifier(none,cycle_length)),integer(none,1)))),greater_equal(none,identifier(none,time),identifier(none,last_cont_time)))),disjunct(rodinpos(inv30,internal_element30),equal(none,identifier(none,brake),boolean_true(none)),implication(none,conjunct(none,equal(none,modulo(none,identifier(none,time),identifier(none,cycle_length)),integer(none,0)),greater(none,identifier(none,time),integer(none,0))),conjunct(none,implication(none,not_member(none,identifier(none,time),domain(none,identifier(none,cont_mode))),subset(none,interval(none,integer(none,0),minus(none,identifier(none,time),integer(none,1))),domain(none,identifier(none,cont_mode)))),implication(none,member(none,identifier(none,time),domain(none,identifier(none,cont_mode))),subset(none,interval(none,integer(none,0),minus(none,add(none,identifier(none,time),identifier(none,cycle_length)),integer(none,1))),domain(none,identifier(none,cont_mode))))))),disjunct(rodinpos(inv31,internal_element28),equal(none,identifier(none,brake),boolean_true(none)),implication(none,not_equal(none,modulo(none,identifier(none,time),identifier(none,cycle_length)),integer(none,0)),subset(none,interval(none,integer(none,0),minus(none,add(none,identifier(none,last_cont_time),identifier(none,cycle_length)),integer(none,1))),domain(none,identifier(none,cont_mode))))),disjunct(rodinpos(inv32,internal_element21),equal(none,identifier(none,brake),boolean_true(none)),implication(none,conjunct(none,member(none,identifier(none,time),domain(none,identifier(none,cont_mode))),not_equal(none,modulo(none,identifier(none,time),identifier(none,cycle_length)),integer(none,0))),subset(none,interval(none,identifier(none,last_cont_time),minus(none,add(none,identifier(none,last_cont_time),identifier(none,cycle_length)),integer(none,1))),domain(none,range_restriction(none,identifier(none,cont_mode),set_extension(none,[function(none,identifier(none,cont_mode),[identifier(none,last_cont_time)])]))))))]),theorems(none,[implication(rodinpos(thm1,internal_element1),conjunct(none,equal(none,identifier(none,decision),boolean_false(none)),conjunct(none,equal(none,identifier(none,old_sel_mode),identifier(none,atpf)),equal(none,identifier(none,old_trn_cbtc),boolean_false(none)))),equal(none,identifier(none,brake),boolean_true(none)))]),events(none,[event(rodinpos('INITIALISATION',internal_evt1),'INITIALISATION',[],[],[],[assign(rodinpos(act1,internal_element1),[identifier(none,old_sel_mode)],[identifier(none,atpr)]),assign(rodinpos(act2,internal_element2),[identifier(none,new_sel_mode)],[identifier(none,atpr)]),assign(rodinpos(act3,internal_element3),[identifier(none,old_trn_cbtc)],[boolean_false(none)]),assign(rodinpos(act4,internal_element4),[identifier(none,new_trn_cbtc)],[boolean_false(none)]),assign(rodinpos(act5,internal_element5),[identifier(none,ctr_mode)],[identifier(none,atpr)]),assign(rodinpos(act6,internal_element6),[identifier(none,brake)],[boolean_false(none)]),assign(rodinpos(act7,internal_element7),[identifier(none,decision)],[boolean_false(none)]),assign(rodinpos(act8,internal_element8),[identifier(none,'SELECTION')],[identifier(none,atpr)]),assign(rodinpos(act9,internal_element9),[identifier(none,'TRAIN_CBTC')],[boolean_false(none)]),assign(rodinpos(act10,internal_act1),[identifier(none,time)],[integer(none,0)]),assign(rodinpos(act11,internal_element10),[identifier(none,cycle_length)],[integer(none,3)]),assign(rodinpos(act13,internal_act4),[identifier(none,op_mode)],[set_extension(none,[couple(none,[integer(none,0),identifier(none,atpr)])])]),assign(rodinpos(act14,internal_act5),[identifier(none,cont_mode)],[set_extension(none,[couple(none,[integer(none,0),identifier(none,atpr)])])]),assign(rodinpos(act15,internal_act10),[identifier(none,nb_var)],[integer(none,0)]),assign(rodinpos(act16,internal_act2),[identifier(none,last_cont_time)],[integer(none,0)])],[]),event(rodinpos('DRIVER',element0),'DRIVER',[],[],[not_member(rodinpos(grd1,internal_element1),identifier(none,time),domain(none,identifier(none,op_mode))),conjunct(rodinpos(grd4,internal_element4),not_equal(none,identifier(none,time),add(none,identifier(none,last_cont_time),identifier(none,cycle_length))),not_equal(none,identifier(none,time),integer(none,0)))],[becomes_such(rodinpos(act1,internal_element1),[identifier(none,'SELECTION'),identifier(none,op_mode)],conjunct(none,not_equal(none,identifier(none,'SELECTION\''),identifier(none,'SELECTION')),conjunct(none,member(none,identifier(none,'SELECTION\''),identifier(none,'MODE')),equal(none,identifier(none,'op_mode\''),overwrite(none,identifier(none,op_mode),set_extension(none,[couple(none,[identifier(none,time),identifier(none,'SELECTION\'')])])))))),assign(rodinpos(act3,internal_element3),[identifier(none,nb_var)],[add(none,identifier(none,nb_var),integer(none,1))])],[]),event(rodinpos('DRIVER_constant',internal_element6),'DRIVER_constant',[],[],[not_member(rodinpos(grd2,internal_element2),identifier(none,time),domain(none,identifier(none,op_mode))),disjunct(rodinpos(grd1,internal_element1),not_equal(none,identifier(none,time),add(none,identifier(none,last_cont_time),identifier(none,cycle_length))),disjunct(none,member(none,identifier(none,time),domain(none,identifier(none,cont_mode))),equal(none,identifier(none,time),integer(none,0))))],[assign(rodinpos(act2,internal_element3),[identifier(none,op_mode)],[overwrite(none,identifier(none,op_mode),set_extension(none,[couple(none,[identifier(none,time),identifier(none,'SELECTION')])]))])],[]),event(rodinpos('TRAIN',internal_element7),'TRAIN',[],[],[],[becomes_element_of(rodinpos(act1,internal_element1),[identifier(none,'TRAIN_CBTC')],bool_set(none))],[]),event(rodinpos(get_information,internal_element1),get_information,[],[],[equal(rodinpos(grd1,internal_element1),identifier(none,decision),boolean_false(none)),disjunct(rodinpos(grd2,internal_element2),equal(none,identifier(none,time),add(none,identifier(none,last_cont_time),identifier(none,cycle_length))),equal(none,identifier(none,time),integer(none,0))),disjunct(rodinpos(grd3,internal_element3),not_member(none,identifier(none,time),domain(none,identifier(none,op_mode))),equal(none,identifier(none,time),integer(none,0)))],[assign(rodinpos(act1,internal_element1),[identifier(none,decision)],[boolean_true(none)]),assign(rodinpos(act2,internal_element2),[identifier(none,new_sel_mode)],[identifier(none,'SELECTION')]),assign(rodinpos(act3,internal_element3),[identifier(none,new_trn_cbtc)],[identifier(none,'TRAIN_CBTC')]),assign(rodinpos(act4,internal_element4),[identifier(none,old_sel_mode)],[identifier(none,new_sel_mode)]),assign(rodinpos(act5,internal_element5),[identifier(none,old_trn_cbtc)],[identifier(none,new_trn_cbtc)]),assign(rodinpos(act7,internal_element7),[identifier(none,cont_mode)],[overwrite(none,identifier(none,cont_mode),cartesian_product(none,interval(none,identifier(none,time),minus(none,add(none,identifier(none,time),identifier(none,cycle_length)),integer(none,1))),set_extension(none,[identifier(none,'SELECTION')])))]),assign(rodinpos(act8,internal_element8),[identifier(none,last_cont_time)],[identifier(none,time)])],[]),event(rodinpos(take_decision_1,internal_element2),take_decision_1,[],[],[equal(rodinpos(grd1,internal_element1),identifier(none,decision),boolean_true(none)),equal(rodinpos(grd2,internal_element2),identifier(none,old_sel_mode),identifier(none,bypass))],[assign(rodinpos(act1,internal_element1),[identifier(none,decision)],[boolean_false(none)]),assign(rodinpos(act2,internal_element2),[identifier(none,brake)],[boolean_true(none)]),assign(rodinpos(act3,internal_element3),[identifier(none,ctr_mode)],[identifier(none,bypass)])],[]),event(rodinpos(take_decision_2,internal_element3),take_decision_2,[],[],[equal(rodinpos(grd1,internal_element1),identifier(none,decision),boolean_true(none)),equal(rodinpos(grd2,internal_element2),identifier(none,old_sel_mode),identifier(none,atpf)),equal(rodinpos(grd3,internal_element3),identifier(none,old_trn_cbtc),boolean_false(none))],[assign(rodinpos(act1,internal_element1),[identifier(none,decision)],[boolean_false(none)]),assign(rodinpos(act2,internal_element2),[identifier(none,brake)],[boolean_true(none)]),assign(rodinpos(act3,internal_element3),[identifier(none,ctr_mode)],[identifier(none,atpr)])],[]),event(rodinpos(take_decision_3,internal_element4),take_decision_3,[],[],[equal(rodinpos(grd1,internal_element1),identifier(none,decision),boolean_true(none)),equal(rodinpos(grd2,internal_element2),identifier(none,old_sel_mode),identifier(none,atpf)),equal(rodinpos(grd3,internal_element3),identifier(none,old_trn_cbtc),boolean_true(none)),equal(rodinpos(grd4,internal_element4),identifier(none,brake),boolean_false(none))],[assign(rodinpos(act1,internal_element1),[identifier(none,decision)],[boolean_false(none)]),assign(rodinpos(act2,internal_element2),[identifier(none,ctr_mode)],[identifier(none,atpf)]),assign(rodinpos(act3,internal_element3),[identifier(none,brake)],[boolean_false(none)])],[]),event(rodinpos(take_decision_4,internal_element5),take_decision_4,[],[],[equal(rodinpos(grd1,internal_element1),identifier(none,decision),boolean_true(none)),equal(rodinpos(grd2,internal_element2),identifier(none,old_sel_mode),identifier(none,atpr)),equal(rodinpos(grd3,internal_element3),identifier(none,brake),boolean_false(none))],[assign(rodinpos(act1,internal_element1),[identifier(none,decision)],[boolean_false(none)]),assign(rodinpos(act2,internal_element2),[identifier(none,ctr_mode)],[identifier(none,atpr)]),assign(rodinpos(act3,internal_element3),[identifier(none,brake)],[boolean_false(none)])],[]),event(rodinpos(clock,internal_element8),clock,[],[],[disjunct(rodinpos(grd1,internal_element1),less(none,identifier(none,time),add(none,identifier(none,last_cont_time),identifier(none,cycle_length))),equal(none,identifier(none,brake),boolean_true(none))),member(rodinpos(grd2,internal_element2),identifier(none,time),domain(none,identifier(none,op_mode))),disjunct(rodinpos(grd3,internal_element3),subset(none,interval(none,integer(none,0),minus(none,add(none,identifier(none,last_cont_time),identifier(none,cycle_length)),integer(none,1))),domain(none,identifier(none,cont_mode))),equal(none,identifier(none,brake),boolean_true(none)))],[assign(rodinpos(act1,internal_element1),[identifier(none,time)],[add(none,identifier(none,time),integer(none,1))])],[]),event(rodinpos(check_cycle,internal_element9),check_cycle,[],[],[greater_equal(rodinpos(grd1,internal_element1),identifier(none,time),add(none,identifier(none,last_cont_time),identifier(none,cycle_length)))],[assign(rodinpos(act1,internal_element1),[identifier(none,brake)],[boolean_true(none)])],[])])])],[event_b_context(none,ctx_0,[extends(none,[]),constants(none,[identifier(none,atpf),identifier(none,atpr),identifier(none,bypass)]),axioms(none,[equal(rodinpos(axm1,internal_element1),identifier(none,'MODE'),set_extension(none,[identifier(none,atpf),identifier(none,atpr),identifier(none,bypass)])),not_equal(rodinpos(axm2,internal_element2),identifier(none,atpf),identifier(none,atpr)),not_equal(rodinpos(axm3,internal_element3),identifier(none,atpf),identifier(none,bypass)),not_equal(rodinpos(axm4,internal_element4),identifier(none,atpr),identifier(none,bypass))]),theorems(none,[]),sets(none,[deferred_set(none,'MODE')])])],[],Error)).