package(load_event_b_project([event_b_model(none,obsw_M001,[sees(none,[obsw_C000,obsw_C001]),refines(none,obsw_M000),variables(none,[identifier(none,'TCbuffer'),identifier(none,'TCpool'),identifier(none,'TCstatus'),identifier(none,'TMbuffer'),identifier(none,'TMpool'),identifier(none,'TMstatus')]),invariant(none,[member(rodinpos(inv_TCstatus,internal_element1),identifier(none,'TCstatus'),partial_function(none,identifier(none,'PACKET_START_ADDRESSES_IN_TC_POOL'),identifier(none,'TC_STATUSES'))),equal(rodinpos(inv_TCdom,internal_element2),domain(none,identifier(none,'TCstatus')),domain(none,identifier(none,'TCpool'))),forall(rodinpos(inv_valid_tc_status,internal_element6),[identifier(none,tc_handler)],implication(none,conjunct(none,member(none,identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),member(none,function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),set_extension(none,[identifier(none,'TC_Accepted'),identifier(none,'TC_Waiting_for_Execution'),identifier(none,'TC_Successfully_Executed'),identifier(none,'TC_Execution_Failed')]))),member(none,function(none,identifier(none,'TCpool'),[identifier(none,tc_handler)]),identifier(none,'VALID_TCS')))),member(rodinpos(inv_TMstatus,internal_element7),identifier(none,'TMstatus'),partial_function(none,identifier(none,'PACKET_START_ADDRESSES_IN_TM_POOL'),identifier(none,'TM_STATUSES'))),equal(rodinpos(inv_TMdom,internal_element8),domain(none,identifier(none,'TMstatus')),domain(none,identifier(none,'TMpool')))]),theorems(none,[]),events(none,[event(rodinpos('INITIALISATION',internal_evt1),'INITIALISATION',['INITIALISATION'],[],[],[assign(rodinpos(act_TCbuffer,internal_element1),[identifier(none,'TCbuffer')],[empty_set(none)]),assign(rodinpos(act_TMbuffer,internal_act3),[identifier(none,'TMbuffer')],[empty_set(none)]),assign(rodinpos(act_TCpool,internal_act4),[identifier(none,'TCpool')],[empty_set(none)]),assign(rodinpos(act_TMpool,internal_element2),[identifier(none,'TMpool')],[empty_set(none)]),assign(rodinpos(act_TCstatus,internal_element3),[identifier(none,'TCstatus')],[empty_set(none)]),assign(rodinpos(act_TMstatus,internal_element4),[identifier(none,'TMstatus')],[empty_set(none)])],[]),event(rodinpos(env_Receive_TC,internal_evt2),env_Receive_TC,[env_Receive_TC],[identifier(rodinpos([],internal_var1),tc),identifier(rodinpos([],internal_element1),tc_pointer)],[member(rodinpos(grd_existing_tc_buffer_address,internal_grd1),identifier(none,tc_pointer),identifier(none,'PACKET_START_ADDRESSES_IN_TC_BUFFER')),not_member(rodinpos(grd_vacant_tc_buffer_address,internal_element1),identifier(none,tc_pointer),domain(none,identifier(none,'TCbuffer'))),member(rodinpos(grd_tc,internal_element2),identifier(none,tc),identifier(none,'TC_SET'))],[assign(rodinpos(act_TCbuffer,internal_act1),[identifier(none,'TCbuffer')],[overwrite(none,identifier(none,'TCbuffer'),set_extension(none,[couple(none,[identifier(none,tc_pointer),identifier(none,tc)])]))])],[]),event(rodinpos('Poll_TC',internal_evt3),'Poll_TC',['Poll_TC'],[identifier(rodinpos([],internal_var2),tc_handler),identifier(rodinpos([],internal_var1),tc_pointer)],[member(rodinpos(grd_tc_pointer,internal_grd1),identifier(none,tc_pointer),domain(none,identifier(none,'TCbuffer'))),member(rodinpos(grd_existing_tc_pool_address,internal_grd2),identifier(none,tc_handler),identifier(none,'PACKET_START_ADDRESSES_IN_TC_POOL')),not_member(rodinpos(grd_vacant_tc_pool_address,internal_grd3),identifier(none,tc_handler),domain(none,identifier(none,'TCpool')))],[assign(rodinpos(act_TCpool,internal_act1),[identifier(none,'TCpool')],[overwrite(none,identifier(none,'TCpool'),set_extension(none,[couple(none,[identifier(none,tc_handler),function(none,identifier(none,'TCbuffer'),[identifier(none,tc_pointer)])])]))]),assign(rodinpos(act_TCbuffer,internal_act2),[identifier(none,'TCbuffer')],[domain_subtraction(none,set_extension(none,[identifier(none,tc_pointer)]),identifier(none,'TCbuffer'))]),assign(rodinpos(act_update_tc_status,internal_element1),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Unchecked')])]))])],[]),event(rodinpos('Accept_TC',internal_element13),'Accept_TC',[],[identifier(rodinpos([],internal_element1),tc_handler)],[member(rodinpos(grd_tc_handler,internal_element1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_valid_tc,internal_element5),function(none,identifier(none,'TCpool'),[identifier(none,tc_handler)]),identifier(none,'VALID_TCS')),member(rodinpos(grd_tc_status_defined,internal_element2),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_element3),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Unchecked'))],[assign(rodinpos(act_TCstatus,internal_element1),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Accepted')])]))])],[]),event(rodinpos('Reject_TC',internal_element17),'Reject_TC',[],[identifier(rodinpos([],internal_element1),tc_handler)],[member(rodinpos(grd_tc_handler,internal_element1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_tc_status_defined,internal_element2),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_element3),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Unchecked'))],[assign(rodinpos(act_TCstatus,internal_element1),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Rejected')])]))])],[]),event(rodinpos('Report_TC_Acceptance',internal_element14),'Report_TC_Acceptance',['Report_on_TC'],[identifier(rodinpos([],internal_element1),tc_handler),identifier(rodinpos([],internal_element3),tm),identifier(rodinpos([],internal_element2),tm_handler)],[member(rodinpos(grd_tc_handler,internal_element1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_existing_tm_pool_address,internal_element2),identifier(none,tm_handler),identifier(none,'PACKET_START_ADDRESSES_IN_TM_POOL')),not_member(rodinpos(grd_vacant_tm_pool_address,internal_element3),identifier(none,tm_handler),domain(none,identifier(none,'TMpool'))),member(rodinpos(grd_tm,internal_element4),identifier(none,tm),identifier(none,'TM_SET')),member(rodinpos(grd_tc_status_defined,internal_element2),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_element3),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Accepted'))],[assign(rodinpos(act_TMpool,internal_element1),[identifier(none,'TMpool')],[overwrite(none,identifier(none,'TMpool'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,tm)])]))]),assign(rodinpos(act_TCstatus,internal_element1),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Waiting_for_Execution')])]))]),assign(rodinpos(act_TMstatus,internal_element2),[identifier(none,'TMstatus')],[overwrite(none,identifier(none,'TMstatus'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,'TM_Effective')])]))])],[]),event(rodinpos('Skip_TC_Acceptance_Report',internal_evt10),'Skip_TC_Acceptance_Report',[],[identifier(rodinpos([],internal_prm1),tc_handler)],[member(rodinpos(grd_tc_handler,internal_grd1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_tc_status_defined,internal_grd2),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_grd3),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Accepted'))],[assign(rodinpos(act_TCstatus,internal_act1),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Waiting_for_Execution')])]))])],[]),event(rodinpos('Report_TC_Rejection',internal_evt4),'Report_TC_Rejection',['Report_on_TC'],[identifier(rodinpos([],internal_element1),tc_handler),identifier(rodinpos([],internal_element3),tm),identifier(rodinpos([],internal_element2),tm_handler)],[member(rodinpos(grd_tc_handler,internal_element1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_existing_tm_pool_address,internal_element2),identifier(none,tm_handler),identifier(none,'PACKET_START_ADDRESSES_IN_TM_POOL')),not_member(rodinpos(grd_vacant_tm_pool_address,internal_element3),identifier(none,tm_handler),domain(none,identifier(none,'TMpool'))),member(rodinpos(grd_tm,internal_element4),identifier(none,tm),identifier(none,'TM_SET')),member(rodinpos(grd_tc_status_defined,internal_element4),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_element5),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Rejected'))],[assign(rodinpos(act_TMpool,internal_element1),[identifier(none,'TMpool')],[overwrite(none,identifier(none,'TMpool'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,tm)])]))]),assign(rodinpos(act_TCstatus,internal_element3),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Removable')])]))]),assign(rodinpos(act_TMstatus,internal_element4),[identifier(none,'TMstatus')],[overwrite(none,identifier(none,'TMstatus'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,'TM_Effective')])]))])],[]),event(rodinpos('Skip_TC_Rejection_Report',internal_evt9),'Skip_TC_Rejection_Report',[],[identifier(rodinpos([],internal_prm1),tc_handler)],[member(rodinpos(grd_tc_handler,internal_grd1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_tc_status_defined,internal_grd2),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_grd3),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Rejected'))],[assign(rodinpos(act_TCstatus,internal_act1),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Removable')])]))])],[]),event(rodinpos('Execute_TC_Successfully',internal_element15),'Execute_TC_Successfully',[],[identifier(rodinpos([],internal_element1),tc_handler)],[member(rodinpos(grd_tc_pool,internal_element3),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_tc_status_defined,internal_element1),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_element2),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Waiting_for_Execution'))],[assign(rodinpos(act_TCstatus,internal_element1),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Successfully_Executed')])]))])],[]),event(rodinpos('Reset_TM_Buffer',internal_element20),'Reset_TM_Buffer',['Reset_TM_Buffer'],[identifier(rodinpos([],internal_element1),tc_handler)],[member(rodinpos(grd_tc_handler,internal_element1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_tc_status_defined,internal_element1),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_element2),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Waiting_for_Execution'))],[assign(rodinpos(act_TMbuffer,internal_element1),[identifier(none,'TMbuffer')],[empty_set(none)]),assign(rodinpos(act_TCstatus,internal_element2),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Successfully_Executed')])]))])],[]),event(rodinpos('Fail_TC_Execution',internal_element16),'Fail_TC_Execution',[],[identifier(rodinpos([],internal_element1),tc_handler)],[member(rodinpos(grd_tc_handler,internal_element1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_tc_status_defined,internal_element2),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_element3),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Waiting_for_Execution'))],[assign(rodinpos(act_TCstatus,internal_element1),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Execution_Failed')])]))])],[]),event(rodinpos('Report_TC_Execution_Success',internal_element18),'Report_TC_Execution_Success',['Report_on_TC'],[identifier(rodinpos([],internal_element1),tc_handler),identifier(rodinpos([],internal_element3),tm),identifier(rodinpos([],internal_element2),tm_handler)],[member(rodinpos(grd_tc_handler,internal_element1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_existing_tm_pool_address,internal_element2),identifier(none,tm_handler),identifier(none,'PACKET_START_ADDRESSES_IN_TM_POOL')),not_member(rodinpos(grd_vacant_tm_pool_address,internal_element3),identifier(none,tm_handler),domain(none,identifier(none,'TMpool'))),member(rodinpos(grd_tm,internal_element4),identifier(none,tm),identifier(none,'TM_SET')),member(rodinpos(grd_tc_status_defined,internal_element4),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_element5),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Successfully_Executed'))],[assign(rodinpos(act_TMpool,internal_element1),[identifier(none,'TMpool')],[overwrite(none,identifier(none,'TMpool'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,tm)])]))]),assign(rodinpos(act_TCstatus,internal_element3),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Removable')])]))]),assign(rodinpos(act_TMstatus,internal_element4),[identifier(none,'TMstatus')],[overwrite(none,identifier(none,'TMstatus'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,'TM_Effective')])]))])],[]),event(rodinpos('Skip_TC_Success_Report',internal_evt8),'Skip_TC_Success_Report',[],[identifier(rodinpos([],internal_prm1),tc_handler)],[member(rodinpos(grd_tc_handler,internal_grd1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_tc_status_defined,internal_grd2),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_grd3),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Successfully_Executed'))],[assign(rodinpos(act_TCstatus,internal_act1),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Removable')])]))])],[]),event(rodinpos('Report_TC_Execution_Failure',internal_element19),'Report_TC_Execution_Failure',['Report_on_TC'],[identifier(rodinpos([],internal_element1),tc_handler),identifier(rodinpos([],internal_element3),tm),identifier(rodinpos([],internal_element2),tm_handler)],[member(rodinpos(grd_tc_handler,internal_element1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_existing_tm_pool_address,internal_element2),identifier(none,tm_handler),identifier(none,'PACKET_START_ADDRESSES_IN_TM_POOL')),not_member(rodinpos(grd_vacant_tm_pool_address,internal_element3),identifier(none,tm_handler),domain(none,identifier(none,'TMpool'))),member(rodinpos(grd_tm,internal_element4),identifier(none,tm),identifier(none,'TM_SET')),member(rodinpos(grd_tc_status_defined,internal_element4),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_element5),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Execution_Failed'))],[assign(rodinpos(act_TMpool,internal_element1),[identifier(none,'TMpool')],[overwrite(none,identifier(none,'TMpool'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,tm)])]))]),assign(rodinpos(act_TCstatus,internal_element3),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Removable')])]))]),assign(rodinpos(act_TMstatus,internal_element4),[identifier(none,'TMstatus')],[overwrite(none,identifier(none,'TMstatus'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,'TM_Effective')])]))])],[]),event(rodinpos('Skip_TC_Failure_Report',internal_evt7),'Skip_TC_Failure_Report',[],[identifier(rodinpos([],internal_prm1),tc_handler)],[member(rodinpos(grd_tc_handler,internal_grd1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_tc_status_defined,internal_grd2),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_grd3),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Execution_Failed'))],[assign(rodinpos(act_TCstatus,internal_act1),[identifier(none,'TCstatus')],[overwrite(none,identifier(none,'TCstatus'),set_extension(none,[couple(none,[identifier(none,tc_handler),identifier(none,'TC_Removable')])]))])],[]),event(rodinpos('Drop_TC',internal_element21),'Drop_TC',['Drop_TC'],[identifier(rodinpos([],internal_var1),tc_handler)],[member(rodinpos(grd_tc_handler,internal_grd1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_tc_status_defined,internal_element1),identifier(none,tc_handler),domain(none,identifier(none,'TCstatus'))),equal(rodinpos(grd_tc_status_value,internal_element2),function(none,identifier(none,'TCstatus'),[identifier(none,tc_handler)]),identifier(none,'TC_Removable'))],[assign(rodinpos(act_TCpool,internal_element2),[identifier(none,'TCpool')],[domain_subtraction(none,set_extension(none,[identifier(none,tc_handler)]),identifier(none,'TCpool'))]),assign(rodinpos(act_TCstatus,internal_element3),[identifier(none,'TCstatus')],[domain_subtraction(none,set_extension(none,[identifier(none,tc_handler)]),identifier(none,'TCstatus'))])],[]),event(rodinpos('Produce_TM',evt5),'Produce_TM',['Produce_TM'],[identifier(rodinpos([],internal_element1),tm),identifier(rodinpos([],internal_var2),tm_handler)],[member(rodinpos(grd_existing_tm_pool_address,internal_grd3),identifier(none,tm_handler),identifier(none,'PACKET_START_ADDRESSES_IN_TM_POOL')),not_member(rodinpos(grd_vacant_tm_pool_address,internal_grd4),identifier(none,tm_handler),domain(none,identifier(none,'TMpool'))),member(rodinpos(grd_tm,internal_element1),identifier(none,tm),identifier(none,'TM_SET'))],[assign(rodinpos(act_TMpool,internal_act2),[identifier(none,'TMpool')],[overwrite(none,identifier(none,'TMpool'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,tm)])]))]),assign(rodinpos(act_TMstatus,internal_element1),[identifier(none,'TMstatus')],[overwrite(none,identifier(none,'TMstatus'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,'TM_Effective')])]))])],[]),event(rodinpos('Pass_TM',internal_element4),'Pass_TM',['Pass_TM'],[identifier(rodinpos([],internal_element1),tm_handler),identifier(rodinpos([],internal_element2),tm_pointer)],[member(rodinpos(grd_tm_handler,internal_element1),identifier(none,tm_handler),domain(none,identifier(none,'TMpool'))),member(rodinpos(grd_existing_tm_buffer_address,internal_element2),identifier(none,tm_pointer),identifier(none,'PACKET_START_ADDRESSES_IN_TM_BUFFER')),not_member(rodinpos(grd_vacant_tm_buffer_address,internal_element3),identifier(none,tm_pointer),domain(none,identifier(none,'TMbuffer'))),member(rodinpos(grd_tm_status_defined,internal_element4),identifier(none,tm_handler),domain(none,identifier(none,'TMstatus'))),equal(rodinpos(grd_tm_status_value,internal_element5),function(none,identifier(none,'TMstatus'),[identifier(none,tm_handler)]),identifier(none,'TM_Effective'))],[assign(rodinpos(act_TMbuffer,internal_element1),[identifier(none,'TMbuffer')],[overwrite(none,identifier(none,'TMbuffer'),set_extension(none,[couple(none,[identifier(none,tm_pointer),function(none,identifier(none,'TMpool'),[identifier(none,tm_handler)])])]))]),assign(rodinpos(act_TMstatus,internal_element2),[identifier(none,'TMstatus')],[overwrite(none,identifier(none,'TMstatus'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,'TM_Removable')])]))])],[]),event(rodinpos('Cancel_TM',internal_element22),'Cancel_TM',[],[identifier(rodinpos([],internal_element1),tm_handler)],[member(rodinpos(grd_tm_handler,internal_element1),identifier(none,tm_handler),domain(none,identifier(none,'TMpool'))),member(rodinpos(grd_tm_status_defined,internal_element2),identifier(none,tm_handler),domain(none,identifier(none,'TMstatus'))),equal(rodinpos(grd_tm_status_value,internal_element3),function(none,identifier(none,'TMstatus'),[identifier(none,tm_handler)]),identifier(none,'TM_Effective'))],[assign(rodinpos(act_TMstatus,internal_element1),[identifier(none,'TMstatus')],[overwrite(none,identifier(none,'TMstatus'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,'TM_Removable')])]))])],[]),event(rodinpos('Drop_TM',internal_element12),'Drop_TM',['Drop_TM'],[identifier(rodinpos([],internal_element1),tm_handler)],[member(rodinpos(grd_tm_handler,internal_element1),identifier(none,tm_handler),domain(none,identifier(none,'TMpool'))),member(rodinpos(grd_tm_status_defined,internal_element2),identifier(none,tm_handler),domain(none,identifier(none,'TMstatus'))),equal(rodinpos(grd_tm_status_value,internal_element3),function(none,identifier(none,'TMstatus'),[identifier(none,tm_handler)]),identifier(none,'TM_Removable'))],[assign(rodinpos(act_TMpool,internal_element1),[identifier(none,'TMpool')],[domain_subtraction(none,set_extension(none,[identifier(none,tm_handler)]),identifier(none,'TMpool'))]),assign(rodinpos(act_TMstatus,internal_element2),[identifier(none,'TMstatus')],[domain_subtraction(none,set_extension(none,[identifier(none,tm_handler)]),identifier(none,'TMstatus'))])],[]),event(rodinpos(env_Deliver_TM,internal_evt6),env_Deliver_TM,[env_Deliver_TM],[identifier(rodinpos([],internal_var1),tm_pointer)],[member(rodinpos(grd_tm_pointer,internal_grd1),identifier(none,tm_pointer),domain(none,identifier(none,'TMbuffer')))],[assign(rodinpos(act_TMbuffer,internal_act1),[identifier(none,'TMbuffer')],[domain_subtraction(none,set_extension(none,[identifier(none,tm_pointer)]),identifier(none,'TMbuffer'))])],[])])]),event_b_model(none,obsw_M000,[sees(none,[obsw_C000]),variables(none,[identifier(none,'TCbuffer'),identifier(none,'TCpool'),identifier(none,'TMbuffer'),identifier(none,'TMpool')]),invariant(none,[member(rodinpos(inv_TCbuffer,internal_element6),identifier(none,'TCbuffer'),partial_function(none,identifier(none,'PACKET_START_ADDRESSES_IN_TC_BUFFER'),identifier(none,'TC_SET'))),member(rodinpos(inv_TMbuffer,internal_element4),identifier(none,'TMbuffer'),partial_function(none,identifier(none,'PACKET_START_ADDRESSES_IN_TM_BUFFER'),identifier(none,'TM_SET'))),member(rodinpos(inv_TCpool,internal_element5),identifier(none,'TCpool'),partial_function(none,identifier(none,'PACKET_START_ADDRESSES_IN_TC_POOL'),identifier(none,'TC_SET'))),member(rodinpos(inv_TMpool,internal_inv5),identifier(none,'TMpool'),partial_function(none,identifier(none,'PACKET_START_ADDRESSES_IN_TM_POOL'),identifier(none,'TM_SET')))]),theorems(none,[]),events(none,[event(rodinpos('INITIALISATION',internal_evt1),'INITIALISATION',[],[],[],[assign(rodinpos(act_TCbuffer,internal_element1),[identifier(none,'TCbuffer')],[empty_set(none)]),assign(rodinpos(act_TMbuffer,internal_act3),[identifier(none,'TMbuffer')],[empty_set(none)]),assign(rodinpos(act_TCpool,internal_act4),[identifier(none,'TCpool')],[empty_set(none)]),assign(rodinpos(act_TMpool,internal_element2),[identifier(none,'TMpool')],[empty_set(none)])],[]),event(rodinpos(env_Receive_TC,internal_evt2),env_Receive_TC,[],[identifier(rodinpos([],internal_var1),tc),identifier(rodinpos([],internal_element1),tc_pointer)],[member(rodinpos(grd_existing_tc_buffer_address,internal_grd1),identifier(none,tc_pointer),identifier(none,'PACKET_START_ADDRESSES_IN_TC_BUFFER')),not_member(rodinpos(grd_vacant_tc_buffer_address,internal_element1),identifier(none,tc_pointer),domain(none,identifier(none,'TCbuffer'))),member(rodinpos(grd_tc,internal_element2),identifier(none,tc),identifier(none,'TC_SET'))],[assign(rodinpos(act_TCbuffer,internal_act1),[identifier(none,'TCbuffer')],[overwrite(none,identifier(none,'TCbuffer'),set_extension(none,[couple(none,[identifier(none,tc_pointer),identifier(none,tc)])]))])],[]),event(rodinpos('Poll_TC',internal_evt3),'Poll_TC',[],[identifier(rodinpos([],internal_var2),tc_handler),identifier(rodinpos([],internal_var1),tc_pointer)],[member(rodinpos(grd_tc_pointer,internal_grd1),identifier(none,tc_pointer),domain(none,identifier(none,'TCbuffer'))),member(rodinpos(grd_existing_tc_pool_address,internal_grd2),identifier(none,tc_handler),identifier(none,'PACKET_START_ADDRESSES_IN_TC_POOL')),not_member(rodinpos(grd_vacant_tc_pool_address,internal_grd3),identifier(none,tc_handler),domain(none,identifier(none,'TCpool')))],[assign(rodinpos(act_TCpool,internal_act1),[identifier(none,'TCpool')],[overwrite(none,identifier(none,'TCpool'),set_extension(none,[couple(none,[identifier(none,tc_handler),function(none,identifier(none,'TCbuffer'),[identifier(none,tc_pointer)])])]))]),assign(rodinpos(act_TCbuffer,internal_act2),[identifier(none,'TCbuffer')],[domain_subtraction(none,set_extension(none,[identifier(none,tc_pointer)]),identifier(none,'TCbuffer'))])],[]),event(rodinpos('Report_on_TC',internal_element14),'Report_on_TC',[],[identifier(rodinpos([],internal_element1),tc_handler),identifier(rodinpos([],internal_element3),tm),identifier(rodinpos([],internal_element2),tm_handler)],[member(rodinpos(grd_tc_handler,internal_element1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool'))),member(rodinpos(grd_existing_tm_pool_address,internal_element2),identifier(none,tm_handler),identifier(none,'PACKET_START_ADDRESSES_IN_TM_POOL')),not_member(rodinpos(grd_vacant_tm_pool_address,internal_element3),identifier(none,tm_handler),domain(none,identifier(none,'TMpool'))),member(rodinpos(grd_tm,internal_element4),identifier(none,tm),identifier(none,'TM_SET'))],[assign(rodinpos(act_TMpool,internal_element1),[identifier(none,'TMpool')],[overwrite(none,identifier(none,'TMpool'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,tm)])]))])],[]),event(rodinpos('Reset_TM_Buffer',internal_element13),'Reset_TM_Buffer',[],[identifier(rodinpos([],internal_element1),tc_handler)],[member(rodinpos(grd_tc_handler,internal_element1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool')))],[assign(rodinpos(act_TMbuffer,internal_element1),[identifier(none,'TMbuffer')],[empty_set(none)])],[]),event(rodinpos('Drop_TC',internal_evt4),'Drop_TC',[],[identifier(rodinpos([],internal_var1),tc_handler)],[member(rodinpos(grd_tc_handler,internal_grd1),identifier(none,tc_handler),domain(none,identifier(none,'TCpool')))],[assign(rodinpos(act_TCpool,internal_element2),[identifier(none,'TCpool')],[domain_subtraction(none,set_extension(none,[identifier(none,tc_handler)]),identifier(none,'TCpool'))])],[]),event(rodinpos('Produce_TM',evt5),'Produce_TM',[],[identifier(rodinpos([],internal_element1),tm),identifier(rodinpos([],internal_var2),tm_handler)],[member(rodinpos(grd_existing_tm_pool_address,internal_grd3),identifier(none,tm_handler),identifier(none,'PACKET_START_ADDRESSES_IN_TM_POOL')),not_member(rodinpos(grd_vacant_tm_pool_address,internal_grd4),identifier(none,tm_handler),domain(none,identifier(none,'TMpool'))),member(rodinpos(grd_tm,internal_element1),identifier(none,tm),identifier(none,'TM_SET'))],[assign(rodinpos(act_TMpool,internal_act2),[identifier(none,'TMpool')],[overwrite(none,identifier(none,'TMpool'),set_extension(none,[couple(none,[identifier(none,tm_handler),identifier(none,tm)])]))])],[]),event(rodinpos('Pass_TM',internal_element4),'Pass_TM',[],[identifier(rodinpos([],internal_element1),tm_handler),identifier(rodinpos([],internal_element2),tm_pointer)],[member(rodinpos(grd_tm_handler,internal_element1),identifier(none,tm_handler),domain(none,identifier(none,'TMpool'))),member(rodinpos(grd_existing_tm_buffer_address,internal_element2),identifier(none,tm_pointer),identifier(none,'PACKET_START_ADDRESSES_IN_TM_BUFFER')),not_member(rodinpos(grd_vacant_tm_buffer_address,internal_element3),identifier(none,tm_pointer),domain(none,identifier(none,'TMbuffer')))],[assign(rodinpos(act_TMbuffer,internal_element1),[identifier(none,'TMbuffer')],[overwrite(none,identifier(none,'TMbuffer'),set_extension(none,[couple(none,[identifier(none,tm_pointer),function(none,identifier(none,'TMpool'),[identifier(none,tm_handler)])])]))])],[]),event(rodinpos('Drop_TM',internal_element12),'Drop_TM',[],[identifier(rodinpos([],internal_element1),tm_handler)],[member(rodinpos(grd_tm_handler,internal_element1),identifier(none,tm_handler),domain(none,identifier(none,'TMpool')))],[assign(rodinpos(act_TMpool,internal_element1),[identifier(none,'TMpool')],[domain_subtraction(none,set_extension(none,[identifier(none,tm_handler)]),identifier(none,'TMpool'))])],[]),event(rodinpos(env_Deliver_TM,internal_evt6),env_Deliver_TM,[],[identifier(rodinpos([],internal_var1),tm_pointer)],[member(rodinpos(grd_tm_pointer,internal_grd1),identifier(none,tm_pointer),domain(none,identifier(none,'TMbuffer')))],[assign(rodinpos(act_TMbuffer,internal_act1),[identifier(none,'TMbuffer')],[domain_subtraction(none,set_extension(none,[identifier(none,tm_pointer)]),identifier(none,'TMbuffer'))])],[])])])],[event_b_context(none,obsw_C000,[extends(none,[]),constants(none,[]),axioms(none,[]),theorems(none,[]),sets(none,[deferred_set(none,'PACKET_START_ADDRESSES_IN_TC_BUFFER'),deferred_set(none,'PACKET_START_ADDRESSES_IN_TC_POOL'),deferred_set(none,'PACKET_START_ADDRESSES_IN_TM_BUFFER'),deferred_set(none,'PACKET_START_ADDRESSES_IN_TM_POOL'),deferred_set(none,'TC_SET'),deferred_set(none,'TM_SET')])]),event_b_context(none,obsw_C001,[extends(none,[obsw_C000]),constants(none,[identifier(none,'TC_Accepted'),identifier(none,'TC_Execution_Failed'),identifier(none,'TC_Rejected'),identifier(none,'TC_Removable'),identifier(none,'TC_Successfully_Executed'),identifier(none,'TC_Unchecked'),identifier(none,'TC_Waiting_for_Execution'),identifier(none,'TM_Effective'),identifier(none,'TM_Removable'),identifier(none,'VALID_TCS')]),axioms(none,[subset(rodinpos(axm_tcs_indeed,internal_element1),identifier(none,'VALID_TCS'),identifier(none,'TC_SET')),not_equal(rodinpos(axm_invalid_tcs,internal_element2),set_subtraction(none,identifier(none,'TC_SET'),identifier(none,'VALID_TCS')),empty_set(none)),equal(rodinpos(axm_tc_statuses,internal_element3),identifier(none,'TC_STATUSES'),set_extension(none,[identifier(none,'TC_Unchecked'),identifier(none,'TC_Accepted'),identifier(none,'TC_Rejected'),identifier(none,'TC_Waiting_for_Execution'),identifier(none,'TC_Successfully_Executed'),identifier(none,'TC_Execution_Failed'),identifier(none,'TC_Removable')])),not_equal(rodinpos(axm_TC_Unchecked_Accepted,internal_element4),identifier(none,'TC_Unchecked'),identifier(none,'TC_Accepted')),not_equal(rodinpos(axm_TC_Unchecked_Rejected,internal_element5),identifier(none,'TC_Unchecked'),identifier(none,'TC_Rejected')),not_equal(rodinpos(axm_TC_Unchecked_Waiting,internal_element6),identifier(none,'TC_Unchecked'),identifier(none,'TC_Waiting_for_Execution')),not_equal(rodinpos(axm_TC_Unchecked_Success,internal_element7),identifier(none,'TC_Unchecked'),identifier(none,'TC_Successfully_Executed')),not_equal(rodinpos(axm_TC_Unchecked_Failure,internal_element8),identifier(none,'TC_Unchecked'),identifier(none,'TC_Execution_Failed')),not_equal(rodinpos(axm_TC_Unchecked_Removable,internal_element19),identifier(none,'TC_Unchecked'),identifier(none,'TC_Removable')),not_equal(rodinpos(axm_TC_Accepted_Rejected,internal_element9),identifier(none,'TC_Accepted'),identifier(none,'TC_Rejected')),not_equal(rodinpos(axm_TC_Accepted_Waiting,internal_element10),identifier(none,'TC_Accepted'),identifier(none,'TC_Waiting_for_Execution')),not_equal(rodinpos(axm_TC_Accepted_Success,internal_element11),identifier(none,'TC_Accepted'),identifier(none,'TC_Successfully_Executed')),not_equal(rodinpos(axm_TC_Accepted_Failure,internal_element12),identifier(none,'TC_Accepted'),identifier(none,'TC_Execution_Failed')),not_equal(rodinpos(axm_TC_Accepted_Removable,internal_element20),identifier(none,'TC_Accepted'),identifier(none,'TC_Removable')),not_equal(rodinpos(axm_TC_Rejected_Waiting,internal_element13),identifier(none,'TC_Rejected'),identifier(none,'TC_Waiting_for_Execution')),not_equal(rodinpos(axm_TC_Rejected_Success,internal_element14),identifier(none,'TC_Rejected'),identifier(none,'TC_Successfully_Executed')),not_equal(rodinpos(axm_TC_Rejected_Failure,internal_element15),identifier(none,'TC_Rejected'),identifier(none,'TC_Execution_Failed')),not_equal(rodinpos(axm_TC_Rejected_Removable,internal_element21),identifier(none,'TC_Rejected'),identifier(none,'TC_Removable')),not_equal(rodinpos(axm_TC_Waiting_Success,internal_element16),identifier(none,'TC_Waiting_for_Execution'),identifier(none,'TC_Successfully_Executed')),not_equal(rodinpos(axm_TC_Waiting_Failure,internal_element17),identifier(none,'TC_Waiting_for_Execution'),identifier(none,'TC_Execution_Failed')),not_equal(rodinpos(axm_TC_Waiting_Removable,internal_element22),identifier(none,'TC_Waiting_for_Execution'),identifier(none,'TC_Removable')),not_equal(rodinpos(axm_TC_Success_Failure,internal_element18),identifier(none,'TC_Successfully_Executed'),identifier(none,'TC_Execution_Failed')),not_equal(rodinpos(axm_TC_Success_Removable,internal_element23),identifier(none,'TC_Successfully_Executed'),identifier(none,'TC_Removable')),not_equal(rodinpos(axm_TC_Failure_Removable,internal_element24),identifier(none,'TC_Execution_Failed'),identifier(none,'TC_Removable')),equal(rodinpos(axm_tm_statuses,internal_element25),identifier(none,'TM_STATUSES'),set_extension(none,[identifier(none,'TM_Effective'),identifier(none,'TM_Removable')])),not_equal(rodinpos(axm_TM_Effective_Removable,internal_element26),identifier(none,'TM_Effective'),identifier(none,'TM_Removable'))]),theorems(none,[]),sets(none,[deferred_set(none,'TC_STATUSES'),deferred_set(none,'TM_STATUSES')])])],[discharged(obsw_M001,'INITIALISATION',inv_TCstatus),discharged(obsw_M001,'INITIALISATION',inv_TCdom),discharged(obsw_M001,'INITIALISATION',inv_valid_tc_status),discharged(obsw_M001,'INITIALISATION',inv_TMstatus),discharged(obsw_M001,'INITIALISATION',inv_TMdom),discharged(obsw_M001,'Poll_TC',inv_TCstatus),discharged(obsw_M001,'Poll_TC',inv_TCdom),discharged(obsw_M001,'Poll_TC',inv_valid_tc_status),discharged(obsw_M001,'Accept_TC',inv_TCstatus),discharged(obsw_M001,'Accept_TC',inv_TCdom),discharged(obsw_M001,'Accept_TC',inv_valid_tc_status),discharged(obsw_M001,'Reject_TC',inv_TCstatus),discharged(obsw_M001,'Reject_TC',inv_TCdom),discharged(obsw_M001,'Reject_TC',inv_valid_tc_status),discharged(obsw_M001,'Report_TC_Acceptance',inv_TCstatus),discharged(obsw_M001,'Report_TC_Acceptance',inv_TCdom),discharged(obsw_M001,'Report_TC_Acceptance',inv_valid_tc_status),discharged(obsw_M001,'Report_TC_Acceptance',inv_TMstatus),discharged(obsw_M001,'Report_TC_Acceptance',inv_TMdom),discharged(obsw_M001,'Skip_TC_Acceptance_Report',inv_TCstatus),discharged(obsw_M001,'Skip_TC_Acceptance_Report',inv_TCdom),discharged(obsw_M001,'Skip_TC_Acceptance_Report',inv_valid_tc_status),discharged(obsw_M001,'Report_TC_Rejection',inv_TCstatus),discharged(obsw_M001,'Report_TC_Rejection',inv_TCdom),discharged(obsw_M001,'Report_TC_Rejection',inv_valid_tc_status),discharged(obsw_M001,'Report_TC_Rejection',inv_TMstatus),discharged(obsw_M001,'Report_TC_Rejection',inv_TMdom),discharged(obsw_M001,'Skip_TC_Rejection_Report',inv_TCstatus),discharged(obsw_M001,'Skip_TC_Rejection_Report',inv_TCdom),discharged(obsw_M001,'Skip_TC_Rejection_Report',inv_valid_tc_status),discharged(obsw_M001,'Execute_TC_Successfully',inv_TCstatus),discharged(obsw_M001,'Execute_TC_Successfully',inv_TCdom),discharged(obsw_M001,'Execute_TC_Successfully',inv_valid_tc_status),discharged(obsw_M001,'Reset_TM_Buffer',inv_TCstatus),discharged(obsw_M001,'Reset_TM_Buffer',inv_TCdom),discharged(obsw_M001,'Reset_TM_Buffer',inv_valid_tc_status),discharged(obsw_M001,'Fail_TC_Execution',inv_TCstatus),discharged(obsw_M001,'Fail_TC_Execution',inv_TCdom),discharged(obsw_M001,'Fail_TC_Execution',inv_valid_tc_status),discharged(obsw_M001,'Report_TC_Execution_Success',inv_TCstatus),discharged(obsw_M001,'Report_TC_Execution_Success',inv_TCdom),discharged(obsw_M001,'Report_TC_Execution_Success',inv_valid_tc_status),discharged(obsw_M001,'Report_TC_Execution_Success',inv_TMstatus),discharged(obsw_M001,'Report_TC_Execution_Success',inv_TMdom),discharged(obsw_M001,'Skip_TC_Success_Report',inv_TCstatus),discharged(obsw_M001,'Skip_TC_Success_Report',inv_TCdom),discharged(obsw_M001,'Skip_TC_Success_Report',inv_valid_tc_status),discharged(obsw_M001,'Report_TC_Execution_Failure',inv_TCstatus),discharged(obsw_M001,'Report_TC_Execution_Failure',inv_TCdom),discharged(obsw_M001,'Report_TC_Execution_Failure',inv_valid_tc_status),discharged(obsw_M001,'Report_TC_Execution_Failure',inv_TMstatus),discharged(obsw_M001,'Report_TC_Execution_Failure',inv_TMdom),discharged(obsw_M001,'Skip_TC_Failure_Report',inv_TCstatus),discharged(obsw_M001,'Skip_TC_Failure_Report',inv_TCdom),discharged(obsw_M001,'Skip_TC_Failure_Report',inv_valid_tc_status),discharged(obsw_M001,'Drop_TC',inv_TCstatus),discharged(obsw_M001,'Drop_TC',inv_TCdom),discharged(obsw_M001,'Drop_TC',inv_valid_tc_status),discharged(obsw_M001,'Produce_TM',inv_TMstatus),discharged(obsw_M001,'Produce_TM',inv_TMdom),discharged(obsw_M001,'Pass_TM',inv_TMstatus),discharged(obsw_M001,'Pass_TM',inv_TMdom),discharged(obsw_M001,'Cancel_TM',inv_TMstatus),discharged(obsw_M001,'Cancel_TM',inv_TMdom),discharged(obsw_M001,'Drop_TM',inv_TMstatus),discharged(obsw_M001,'Drop_TM',inv_TMdom),discharged(obsw_M000,'INITIALISATION',inv_TCbuffer),discharged(obsw_M000,'INITIALISATION',inv_TMbuffer),discharged(obsw_M000,'INITIALISATION',inv_TCpool),discharged(obsw_M000,'INITIALISATION',inv_TMpool),discharged(obsw_M000,env_Receive_TC,inv_TCbuffer),discharged(obsw_M000,'Poll_TC',inv_TCbuffer),discharged(obsw_M000,'Poll_TC',inv_TCpool),discharged(obsw_M000,'Report_on_TC',inv_TMpool),discharged(obsw_M000,'Reset_TM_Buffer',inv_TMbuffer),discharged(obsw_M000,'Drop_TC',inv_TCpool),discharged(obsw_M000,'Produce_TM',inv_TMpool),discharged(obsw_M000,'Pass_TM',inv_TMbuffer),discharged(obsw_M000,'Drop_TM',inv_TMpool),discharged(obsw_M000,env_Deliver_TM,inv_TMbuffer)],Error)).
